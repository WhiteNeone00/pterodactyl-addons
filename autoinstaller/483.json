{
  "./app/Http/Controllers/Admin/Bagou/BagouCenterController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Support\\Facades\\Http;\n\nclass BagouCenterController extends Controller\n{\n    /**\n     * Display bagou center main page\n     */\n    public function index(): View\n    {\n        $addonslist = Http::get('https://api.whee.lol/api/client/pterodactyl/addonsList')->json();\n        \n        // Check API status\n        try {\n            $apiResponse = Http::timeout(5)->get('https://api.whee.lol/api/client/pterodactyl/checkOnline');\n            $apistatus = (int)trim($apiResponse->body());\n        } catch (\\Exception $e) {\n            $apistatus = 0;\n        }\n        \n        // Check CDN status\n        try {\n            $cdnResponse = Http::timeout(5)->get('https://cdn.whee.lol/status');\n            $cdnstatus = (int)trim($cdnResponse->body());\n        } catch (\\Exception $e) {\n            $cdnstatus = 0;\n        }\n        \n        return view('admin.bagoucenter.index', [\n            'addonslist' => $addonslist,\n            'apistatus' => $apistatus,\n            'cdnstatus' => $cdnstatus,\n        ]);\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouLicenseController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Models\\Bagoulicense;\nuse Illuminate\\Http\\RedirectResponse;\nuse Prologue\\Alerts\\AlertsMessageBag;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Http;\n\nclass BagouLicenseController extends Controller\n{\n    protected $alert;\n\n    public function __construct(\n        AlertsMessageBag $alert\n    ) {\n        $this->alert = $alert;\n    }\n    /**\n     * Display licensing system\n     */\n    public function index(): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $licenses = Bagoulicense::all();\n        return view('admin.bagoucenter.license.index', ['addonslist' => $addonslist, 'licenses' => $licenses]);\n    }\n\n    /**\n     * Display license of the addon\n     *\n     * @throws \\Pterodactyl\\Exceptions\\Repository\\RecordNotFoundException\n     */\n    public function license(string $addon): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $dbaddon = Bagoulicense::where('addon', $addon)->first();\n        return view('admin.bagoucenter.license.license', [\n            'addon' => $addon,\n            'addonslist' => $addonslist,\n            'enabled' => ($dbaddon)? $dbaddon['enabled'] : 0,\n            'usage' => ($dbaddon) ? $dbaddon['usage'] : null ,\n            'maxusage' => ($dbaddon) ? $dbaddon['maxusage'] : null,\n            'license' => ($dbaddon) ? $dbaddon['license']: 'Your license',\n        ]);\n    }\n\n    /**\n     * Set a license\n     *\n     * @throws \\Throwable\n     */\n    public function setlicense(Request $request, $addon): RedirectResponse\n    {   \n        $dbaddon = Bagoulicense::where('addon', $addon)->first();\n        \n        // If license is empty or same as before, just update the enabled status\n        if (empty($request->license) || ($dbaddon && $dbaddon->license === $request->license)) {\n            if ($dbaddon) {\n                $dbaddon->update(['enabled' => $request->enabled]);\n                $this->alert->success('License status updated successfully!')->flash();\n            } else {\n                $this->alert->danger('No license found for this addon')->flash();\n            }\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        try {\n            $response = Http::timeout(10)->post(\"https://api.whee.lol/api/client/pterodactyl/license\", [\n                'id' => $request->license,\n                'selectaddon' => $addon\n            ]);\n            \n            $license = $response->json();\n        } catch (\\Exception $e) {\n            $this->alert->danger('Error verifying license. Please try again later.')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        // Check response structure and handle all error cases\n        if (!isset($license['status'])) {\n            $this->alert->danger('Invalid response from license server.')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        // Handle error responses\n        if ($license['status'] === 'error') {\n            $message = $license['message'] ?? 'Unknown error';\n            \n            // Parse specific error messages\n            if ($message === 'No license found.') {\n                $this->alert->danger('License not found. Please contact support on discord')->flash();\n            } elseif ($message === 'Too many usage.') {\n                $this->alert->danger('License is already used on too many panels. Please contact support.')->flash();\n            } elseif ($message === 'Not the good addon.') {\n                $this->alert->danger('This license is not for this addon!')->flash();\n            } elseif (strpos($message, 'blacklist') !== false || strpos($message, 'Blacklist') !== false) {\n                $this->alert->danger('This license has been blacklisted. Please contact support.')->flash();\n            } else {\n                $this->alert->danger('Error: ' . $message)->flash();\n            }\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        // Handle successful response\n        if ($license['status'] === 'success') {\n            // Check for blacklisted status\n            if (isset($license['blacklisted']) && $license['blacklisted']) {\n                if(Bagoulicense::where('addon', $addon)->exists()) {\n                    Bagoulicense::where('addon', $addon)->update(['license' => $request->license, 'usage' => 1, 'maxusage' => 1, 'enabled' => false]);\n                } else {\n                    Bagoulicense::create(['addon' => $addon, 'license' => $request->license, 'usage' => 1, 'maxusage' => 1, 'enabled' => false]);\n                }\n                $this->alert->danger('This license has been blacklisted. Please contact support.')->flash();\n                return redirect()->route('admin.bagoucenter.license.addon', $addon);\n            }\n            \n            // Check if license is for correct addon\n            if (!isset($license['name']) || $license['name'] != $addon) {\n                $this->alert->danger('This license is not for this addon!')->flash();\n                return redirect()->route('admin.bagoucenter.license.addon', $addon);\n            }\n            \n            // Update or create license record\n            if(Bagoulicense::where('addon', $addon)->exists()) {\n                Bagoulicense::where('addon', $addon)->update([\n                    'license' => $request->license, \n                    'usage' => $license['usage'] ?? 0, \n                    'maxusage' => $license['maxusage'] ?? 0, \n                    'enabled' => $request->enabled\n                ]);\n            } else {\n                Bagoulicense::create([\n                    'addon' => $addon, \n                    'license' => $request->license, \n                    'usage' => $license['usage'] ?? 0, \n                    'maxusage' => $license['maxusage'] ?? 0, \n                    'enabled' => $request->enabled\n                ]);\n            }\n            $this->alert->success('License updated successfully!')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n        \n        $this->alert->danger('Unknown error updating license')->flash();\n        return redirect()->route('admin.bagoucenter.license.addon', $addon);\n    }\n\n    /**\n     * Remove a license\n     *\n     * @throws \\Throwable\n     */\n    public function removelicense($addon): RedirectResponse\n    {   \n        if(Bagoulicense::where('addon', $addon)->exists()) {\n            $transaction = Bagoulicense::where('addon', $addon)->first();\n            if(!$transaction) {\n                $this->alert->danger('No license found.')->flash();\n                return redirect()->route('admin.bagoucenter.license.addon', $addon);\n            }\n            $transaction = $transaction['license'];\n            $license = Http::delete(\"https://api.whee.lol/license?id=$transaction\")->object();\n            Bagoulicense::where('addon', $addon)->delete();\n            $this->alert->success('License removed successfully')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);        \n        } else {\n            $this->alert->danger('No license found.')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);     \n        }\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouMcVersionsController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\Support\\Facades\\Http;\nuse Illuminate\\View\\View;\nuse Prologue\\Alerts\\AlertsMessageBag;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Http\\Request;\nuse Pterodactyl\\Models\\Bagoulicense;\nuse Pterodactyl\\Models\\MinecraftModpacks;\n\nclass BagouMcVersionsController extends Controller\n{\n    protected $alert;\n\n    public function __construct(\n        AlertsMessageBag $alert\n    ) {\n        $this->alert = $alert;\n    }\n    /**\n     * Display version \n     */\n    public function index(): View\n    {\n        $addonslist = Http::get('https://api.whee.lol/api/client/pterodactyl/addonsList')->json();\n        $licenses = Bagoulicense::all();\n        $modpacks = MinecraftModpacks::get();\n        return view('admin.bagoucenter.settings.mcversions.index', ['licenses' => $licenses, 'addonslist' => $addonslist, 'modpacks' => $modpacks]);\n    }\n    /**\n     * Add Versions\n     */\n    public function add(Request $request): View\n    {\n        if(!ends_with($request->url, ['zip', 'tar.gz', 'tar.xz'])) {\n            $this->alert->danger('The url is invalid (is not a direct link to a zip,tar.gz or tar.xz!')->flash();\n            return $this->index();\n        }\n        MinecraftModpacks::create(['name' => $request->name, 'version' => $request->version, 'mcversion' => $request->mcversion, 'url' => $request->url , 'icon' => $request->icon]);\n        $this->alert->success('Modpack added sucessfully!')->flash();\n        return $this->index();\n\n    }\n     /**\n     * Delete Versions\n     */\n    public function delete(string $id): View\n    {\n        MinecraftModpacks::where('id', '=', $id)->delete();\n        $this->alert->success('Modpack removed sucessfully!')->flash();\n        return $this->index();\n\n    }\n}\n\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouSettingsController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Support\\Facades\\Http;\nuse Pterodactyl\\Models\\Bagoulicense;\n\nclass BagouSettingsController extends Controller\n{\n    public function index(): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $licenses = Bagoulicense::all();\n        return view('admin.bagoucenter.settings.index', ['addonslist' => $addonslist, 'licenses' => $licenses]);\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouSupportController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\n\nclass BagouSupportController extends Controller\n{\n    public function index(): View\n    {\n        return view('admin.bagoucenter.support.index');\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouVersionsController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Support\\Facades\\Http;\nuse Pterodactyl\\Models\\Bagoulicense;\n\nclass BagouVersionsController extends Controller\n{\n    public function index(): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $licenses = Bagoulicense::all();\n        return view('admin.bagoucenter.versions.index', ['addonslist' => $addonslist, 'licenses' => $licenses]);\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagoulicenseController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin;\n\nuse Exception;\nuse PDOException;\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Models\\Bagoulicense;\nuse Illuminate\\Http\\RedirectResponse;\nuse Prologue\\Alerts\\AlertsMessageBag;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Pterodactyl\\Services\\Databases\\Hosts\\HostUpdateService;\nuse Pterodactyl\\Http\\Requests\\Admin\\DatabaseHostFormRequest;\nuse Pterodactyl\\Services\\Databases\\Hosts\\HostCreationService;\nuse Pterodactyl\\Services\\Databases\\Hosts\\HostDeletionService;\nuse Pterodactyl\\Contracts\\Repository\\DatabaseRepositoryInterface;\nuse Pterodactyl\\Contracts\\Repository\\LocationRepositoryInterface;\nuse Pterodactyl\\Contracts\\Repository\\DatabaseHostRepositoryInterface;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Http;\n\nclass BagoulicenseController extends Controller\n{\n    protected $alert;\n\n    public function __construct(\n        AlertsMessageBag $alert\n    ) {\n        $this->alert = $alert;\n    }\n    /**\n     * Display licensing system\n     */\n    public function index(): View\n    {\n        return view('admin.bagoulicense.index');\n    }\n\n    /**\n     * Display license of the addon\n     *\n     * @throws \\Pterodactyl\\Exceptions\\Repository\\RecordNotFoundException\n     */\n    public function license(string $addon): View\n    {\n        $dbaddon = Bagoulicense::where('addon', $addon)->first();\n        return view('admin.bagoulicense.license', [\n            'addon' => $addon,\n            'enabled' => ($dbaddon)? $dbaddon['enabled'] : 0,\n            'usage' => ($dbaddon) ? $dbaddon['usage_count'] : null ,\n            'maxusage' => ($dbaddon) ? $dbaddon['maxusage'] : null,\n            'license' => ($dbaddon) ? $dbaddon['license']: 'Your license',\n        ]);\n    }\n\n    /**\n     * Set a license\n     *\n     * @throws \\Throwable\n     */\n    public function setlicense(Request $request, $addon): RedirectResponse\n    {   \n        $license = Http::accept('application/json')->get(\"https://api.whee.lol/license\", [\n            'id' => $request->license,\n            'selectaddon' => $addon\n        ])->object();\n        if($license->message == 'No purchase found') {\n            $this->alert->danger('License not found please contact me on discord')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n        } else if($license->message == 'Too many license usage please contact me on discord') {\n            $this->alert->danger('License are already used on too many panel please contact me on discord')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n        } else if ($license->blacklisted) {\n            if(Bagoulicense::where('addon', $addon)->exists()) {\n\n                Bagoulicense::where('addon', $addon)->update(['license' => $request->license, 'usage_count' => 1, 'maxusage' => 1, 'enabled' => false]);\n               } else {\n                Bagoulicense::create(['addon' => $addon, 'license' => $request->license, 'usage_count' => 1, 'maxusage' => 1, 'enabled' => false]);\n               }\n            $this->alert->danger('You are BLACKLISTED (probably because of a paypal dispute)')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n         } else if($license->message == 'Not the good addon') {\n            $this->alert->danger('This license is not for this addon!')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n        } else if($license->message == 'done' && $license->name == $addon && !$license->blacklisted) {\n            if(Bagoulicense::where('addon', $addon)->exists()) {\n\n                Bagoulicense::where('addon', $addon)->update(['license' => $request->license, 'usage_count' => $license->usage, 'maxusage' => $license->maxusage, 'enabled' => true]);\n               } else {\n                Bagoulicense::create(['addon' => $addon, 'license' => $request->license, 'usage_count' => $license->usage, 'maxusage' => $license->maxusage, 'enabled' => true]);\n               }\n        \n               $this->alert->success('License updated sucessfully!')->flash();\n               return redirect()->route('admin.bagoulicense.license', $addon);\n        }\n\n        $this->alert->danger('Error!')->flash();\n        return redirect()->route('admin.bagoulicense.license', $addon);\n    }\n\n /**\n     * Rmove a license\n     *\n     * @throws \\Throwable\n     */\n    public function removelicense($addon): RedirectResponse\n    {   \n            if(Bagoulicense::where('addon', $addon)->exists()) {\n                $transaction = Bagoulicense::where('addon', $addon)->first();\n                if(!$transaction) {\n                    $this->alert->danger('No license found.')->flash();\n                    return redirect()->route('admin.bagoulicense.license', $addon);\n                }\n                $transaction = $transaction['license'];\n                $license = Http::delete(\"https://api.whee.lol/license?id=$transaction\")->object();\n                Bagoulicense::where('addon', $addon)->delete();\n                $this->alert->success('License removed sucessfully')->flash();\n                return redirect()->route('admin.bagoulicense.license', $addon);        \n               } else {\n                $this->alert->danger('No license found.')->flash();\n                return redirect()->route('admin.bagoulicense.license', $addon);     \n            }\n\n    }\n}\n"
    }
  ],
  "./resources/views/admin/bagoucenter/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n<h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav', ['addon' => null])\n\n    <div class=\"row\" style=\"margin-top: 15px;\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Hub</h3>\n                </div>\n                <p class=\"box-body\">\n                    Select a tab above for manage all your Whee Service addons!</span>.\n                    <br>\n                    <span style=\"font-size: 20px;\">Api status: @if ($apistatus === 1) Online <i class=\"fa fa-check-circle\" style=\"color: green;\" aria-hidden=\"true\"></i> @elseif ($apistatus === 2) Maintenance mode <i class=\"fa fa-exclamation-circle\" style=\"color: yellow;\" aria-hidden=\"true\"></i> @else Down <i class=\"fa fa-minus-circle\" style=\"color: red;\" aria-hidden=\"true\"></i> @endif</span>\n                    <br>\n                   <span style=\"font-size: 20px;\">CDN status: @if ($cdnstatus === 1) Online <i class=\"fa fa-check-circle\" style=\"color: green;\" aria-hidden=\"true\"></i> @elseif ($cdnstatus === 2) Maintenance mode <i class=\"fa fa-exclamation-circle\" style=\"color: yellow;\" aria-hidden=\"true\"></i> @else Down <i class=\"fa fa-minus-circle\" style=\"color: red;\" aria-hidden=\"true\"></i> @endif</span>\n\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service<small>Configure license for Whee Service Addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoulicense.nav', ['addon' => $addon])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Bagou License</h3>\n                </div>\n                <form action=\"{{ route('admin.settings') }}\" method=\"POST\">\n                    <div class=\"box-body\">\n                        <div class=\"row\">\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Company Name</label>\n                                <div>\n                                    <input type=\"text\" class=\"form-control\" name=\"app:name\" value=\"{{ old('app:name', config('app.name')) }}\" />\n                                    <p class=\"text-muted\"><small>This is the name that is used throughout the panel and in emails sent to clients.</small></p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Require 2-Factor Authentication</label>\n                                <div>\n                                    <div class=\"btn-group\" data-toggle=\"buttons\">\n                                        @php\n                                            $level = old('pterodactyl:auth:2fa_required', config('pterodactyl.auth.2fa_required'));\n                                        @endphp\n                                        <label class=\"btn btn-primary @if ($level == 0) active @endif\">\n                                            <input type=\"radio\" name=\"pterodactyl:auth:2fa_required\" autocomplete=\"off\" value=\"0\" @if ($level == 0) checked @endif> Not Required\n                                        </label>\n                                        <label class=\"btn btn-primary @if ($level == 1) active @endif\">\n                                            <input type=\"radio\" name=\"pterodactyl:auth:2fa_required\" autocomplete=\"off\" value=\"1\" @if ($level == 1) checked @endif> Admin Only\n                                        </label>\n                                        <label class=\"btn btn-primary @if ($level == 2) active @endif\">\n                                            <input type=\"radio\" name=\"pterodactyl:auth:2fa_required\" autocomplete=\"off\" value=\"2\" @if ($level == 2) checked @endif> All Users\n                                        </label>\n                                    </div>\n                                    <p class=\"text-muted\"><small>If enabled, any account falling into the selected grouping will be required to have 2-Factor authentication enabled to use the Panel.</small></p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Status</label>\n                                <div>\n                                   <p>@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n<h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoulicense.nav', ['addon' => $addon])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service</h3>\n                </div>\n                <form method=\"POST\">\n                    <div class=\"box-body\">\n                        <div class=\"row\">\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Addon license (Transaction id)</label>\n                                <div>\n                                    <input type=\"text\" class=\"form-control\" name=\"license\" value=\"{{ $license }}\" />\n                                    <p class=\"text-muted\"><small>Add here your transaction id if not work contact me on <a href=\"https://discord.bagou450.com\">discord</a></small></p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Usage</label>\n                                <div>\n                                    <p>{{ $usage && $maxusage ? \"$usage / $maxusage panel(s)\" : 'No license' }} <br> {{ $usage && $maxusage ? 'Contact me on discord for increase panel limit.' : 'For use the addon you need to insert a license' }}</p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Status</label>\n                                <div>\n                                   <p style=\"font-size: 50px\">{{$enabled ? 'âœ…' : 'ðŸš«' }}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"box-footer\">\n                        {!! csrf_field() !!}\n                        <button type=\"submit\" name=\"_method\" value=\"POST\"  style=\"margin-left: 8px\" class=\"btn btn-sm btn-primary pull-right \">Save</button>\n                        {!! csrf_field() !!}\n                        <button type=\"submit\" name=\"_method\" value=\"DELETE\" class=\"btn btn-sm btn-danger pull-right \">Remove License</button>\n\n                </form>\n            </div>\n\n            </div>\n        </div>\n    </div>\n@endsection\n</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"box-footer\">\n                        {!! csrf_field() !!}\n                        <button type=\"submit\" name=\"_method\" value=\"PATCH\" class=\"btn btn-sm btn-primary pull-right\">Save</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.license.nav', ['addon' => null, 'addonslist' => $addonslist, 'licenses' => $licenses])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service</h3>\n                </div>\n                <p class=\"box-body\">\n                    You can manage your license here.\n                    <br>Actual license status:\n                    <ul>\n                        @foreach ($addonslist as $addon)\n                            @php\n                                $found = false;\n                            @endphp\n                            @foreach($licenses as $license) \n                                @if($license->addon == $addon['id'])\n                                    @php\n                                        $found = true;\n                                    @endphp\n                                    <li>{{$addon['name']}}: <span style=\"color: green;\">Activated</span></li>\n                                @endif\n                            @endforeach\n                            @if (!$found)\n                                <li>{{$addon['name']}}: <span style=\"color: red;\">Disabled</span></li>\n                            @endif\n                        @endforeach\n                    </ul>\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license/license.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.license.nav', ['addon' => $addon, 'addonslist' => $addonslist])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">License Configuration\n                        @if ($enabled == 1)\n                            <span class=\"label label-success\" style=\"margin-left: 10px;\"><i class=\"fa fa-check\"></i> Active</span>\n                        @else\n                            <span class=\"label label-danger\" style=\"margin-left: 10px;\"><i class=\"fa fa-times\"></i> Inactive</span>\n                        @endif\n                    </h3>\n                </div>\n                <form action=\"{{ route('admin.bagoucenter.license.addon', $addon) }}\" method=\"POST\">\n                    {{ csrf_field() }}\n                    <div class=\"box-body\">\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"license\">License Key</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"license\" name=\"license\" value=\"{{ old('license', $license) }}\" placeholder=\"Your license key\" />\n                                    <small class=\"form-text text-muted\">Enter your unique license key provided when purchased</small>\n                                </div>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label>Addon Status</label>\n                                    <div style=\"margin-top: 8px;\">\n                                        <div class=\"btn-group\" data-toggle=\"buttons\" style=\"width: 100%;\">\n                                            <label class=\"btn btn-default @if ($enabled == 1) active @endif\" style=\"flex: 1; background-color: @if ($enabled == 1) #007bff @endif; color: @if ($enabled == 1) white @endif; border-color: @if ($enabled == 1) #0056b3 @endif;\">\n                                                <input type=\"radio\" name=\"enabled\" value=\"1\" @if ($enabled == 1) checked @endif autocomplete=\"off\"> \n                                                <i class=\"fa fa-check\"></i> Enable\n                                            </label>\n                                            <label class=\"btn btn-default @if ($enabled == 0) active @endif\" style=\"flex: 1; background-color: @if ($enabled == 0) #6c757d @endif; color: @if ($enabled == 0) white @endif; border-color: @if ($enabled == 0) #5a6268 @endif;\">\n                                                <input type=\"radio\" name=\"enabled\" value=\"0\" @if ($enabled == 0) checked @endif autocomplete=\"off\">\n                                                <i class=\"fa fa-times\"></i> Disable\n                                            </label>\n                                        </div>\n                                    </div>\n                                    <small class=\"form-text text-muted\">Enable to activate, disable to deactivate</small>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"usage\">Current Usage</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"usage\" disabled value=\"{{ $usage ?? '0' }}\" />\n                                    <small class=\"form-text text-muted\">Panels currently using this license</small>\n                                </div>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"maxusage\">Max Usage</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"maxusage\" disabled value=\"{{ $maxusage ?? '0' }}\" />\n                                    <small class=\"form-text text-muted\">Maximum allowed panels for this license</small>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"box-footer\">\n                        <button type=\"submit\" class=\"btn btn-success\"><i class=\"fa fa-save\"></i> Save Changes</button>\n                        <a href=\"{{ route('admin.bagoucenter.license') }}\" class=\"btn btn-default\"><i class=\"fa fa-arrow-left\"></i> Back</a>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license/nav.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@php\n    $router = app('router');\n@endphp\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <div class=\"nav-tabs-custom nav-tabs-floating\">\n            <ul class=\"nav nav-tabs\">\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.license') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.license') }}\">Overview</a>\n                </li>\n                @foreach ($addonslist as $addonn) \n                    @if (isset($addonn['id']) && isset($addonn['name']))\n                        <li class=\"{{ $addon == $addonn['id'] ? 'active' : '' }}\">\n                            <a href=\"{{ route('admin.bagoucenter.license.addon', $addonn['id']) }}\">{{$addonn['name']}} @if($addonn['new']) <span class=\"label label-success\"> NEW </span> @endif</a>\n                        </li>\n                    @endif\n                @endforeach\n            </ul>\n        </div>\n    </div>\n</div>"
    }
  ],
  "./resources/views/admin/bagoucenter/nav.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@php\n    $router = app('router');\n@endphp\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <div class=\"nav-tabs-custom nav-tabs-floating\" style=\"margin-bottom: 1px;\">\n            <ul class=\"nav nav-tabs\">\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter') }}\">Overview</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.license') || $router->currentRouteNamed('admin.bagoucenter.license.addon')? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.license') }}\">License</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.versions') || str_starts_with($router->current()->uri, 'admin/bagoucenter/versions') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.versions') }}\">Version checker</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.settings') || str_starts_with($router->current()->uri, 'admin/bagoucenter/settings') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.settings') }}\">Settings</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.support') || str_starts_with($router->current()->uri, 'admin/bagoucenter/support') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.support') }}\">Support</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>"
    }
  ],
  "./resources/views/admin/bagoucenter/settings/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.settings.nav', ['addon' => null, 'addonslist' => $addonslist, 'licenses' => $licenses])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Settings</h3>\n                </div>\n                <p class=\"box-body\">\n                    Choose a tab above for manage addon settings\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/settings/mcversions/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.settings.nav', ['addon' => null, 'addonslist' => $addonslist, 'licenses' => $licenses])\n\n<div class=\"row\" style=\"margin-top: 15px;\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Modpacks list</h3>\n                    <div class=\"box-tools\">\n                    <button class=\"btn btn-sm btn-primary\" data-toggle=\"modal\" data-target=\"#newModPackModal\">Create New</button>\n                </div>\n                </div>\n                <div class=\"box-body table-responsive no-padding\">\n                <table class=\"table table-hover\">\n                    <tbody>\n                        <tr>\n                            <th>Icon</th>\n                            <th>Name</th>\n                            <th>Version</th>\n                            <th>McVersion</th>\n                            <th>URL</th>\n                            <th></th>\n                        </tr>\n                        @foreach ($modpacks as $modpack)\n                            <tr>\n\n                                <td><img src=\"{{ $modpack->icon }}\" alt=\"modpack icon\" height=\"64px\" width=\"64px\"/> </td>\n                                <td>{{ $modpack->name }}</td>\n                                <td>{{ $modpack->version }}</td>\n                                <td>{{ $modpack->mcversion }}</td>\n                                <td>{{ $modpack->url }}</td>\n                                <td>\n                                    <a href=\"#\" data-action=\"remove-modpack\" data-attr=\"{{ $modpack->id }}\">\n                                        <i class=\"fa fa-trash-can text-danger\"></i>\n                                    </a>\n                                </td>\n                            </tr>\n                        @endforeach\n                    </tbody>\n                </table>\n            </div>\n            </div>\n        </div>\n    </div>\n<div class=\"modal fade\" id=\"newModPackModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <form action=\"{{ route('admin.bagoucenter.settings.addon.mcversions') }}\" method=\"POST\">\n                <div class=\"modal-header\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n                    <h4 class=\"modal-title\">Create New Modpack</h4>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"form-group\">\n                        <label for=\"pName\" class=\"form-label\">Name</label>\n                        <input type=\"text\" name=\"name\" id=\"pName\" class=\"form-control\" />\n                        <p class=\"text-muted small\">The name of the modpack</p>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <label for=\"pHost\" class=\"form-label\">Version</label>\n                            <input type=\"text\" name=\"version\" id=\"pVersion\" class=\"form-control\" />\n                            <p class=\"text-muted small\">The version of the modpack</p>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <label for=\"pPort\" class=\"form-label\">Minecraft Version</label>\n                            <input type=\"text\" name=\"mcversion\" id=\"pMcversion\" class=\"form-control\"/>\n                            <p class=\"text-muted small\">The Minecraft version of the modpack.</p>\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"pUrl\" class=\"form-label\">Url</label>\n                        <input type=\"text\" name=\"url\" id=\"pUrl\" class=\"form-control\" />\n                        <p class=\"text-muted small\">The download url of the modpack (This MUST be a direct download link)</p>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"pIcon\" class=\"form-label\">Icon</label>\n                        <input type=\"text\" name=\"icon\" id=\"pIcon\" class=\"form-control\" />\n                        <p class=\"text-muted small\">The icon of the modpack (must be a direct link).</p>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    {!! csrf_field() !!}\n                    <button type=\"button\" class=\"btn btn-secondary btn-sm pull-left\" data-dismiss=\"modal\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-success btn-sm\">Create</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n@endsection\n\n@section('footer-scripts')\n    @parent\n    <script>\n        $(document).ready(function() {\n            $('[data-action=\"remove-modpack\"]').click(function (event) {\n                var self = $(this);\n                event.preventDefault();\n                swal({\n                    type: 'warning',\n                    title: 'Remove the modpack?',\n                    showCancelButton: true,\n                    allowOutsideClick: true,\n                    closeOnConfirm: false,\n                    confirmButtonText: 'Remove',\n                    confirmButtonColor: '#d9534f',\n                    showLoaderOnConfirm: true\n                }, function () {\n                    $.ajax({\n                        method: 'DELETE',\n                        url: '/admin/bagoucenter/settings/addon/mcversions/' + self.data('attr'),\n                        headers: {\n                            'X-CSRF-TOKEN': '{{ csrf_token() }}'\n                        }\n                    }).done(function () {\n                        swal({\n                            type: 'success',\n                            title: 'Removed!',\n                            text: 'Modpack removed sucessfully.'\n                        });\n                        self.parent().parent().slideUp();\n                    }).fail(function (jqXHR) {\n                        console.error(jqXHR);\n                        swal({\n                            type: 'error',\n                            title: 'Whoops!',\n                            text: 'An error occurred while attempting to remove this modpack.'\n                        });\n                    });\n                });\n            });\n        });\n    </script>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/settings/nav.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@php\n    $router = app('router');\n@endphp\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <div class=\"nav-tabs-custom nav-tabs-floating\">\n            <ul class=\"nav nav-tabs\">\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.settings') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.settings') }}\">Overview</a>\n                </li>\n                @foreach ($addonslist as $addonn)\n                            @foreach($licenses as $license) \n                                @if($license->addon == $addonn['id'] && $addonn['tab'])\n                                    @php\n                                        $found = true;\n                                    @endphp\n                                    <li class=\"{{ $addon == $addonn['id'] ? 'active' : '' }}\">\n                                        <a href=\"{{ route($addonn['tabroute'], $addonn['id']) }}\">{{$addonn['name']}} @if($addonn['new']) <span class=\"label label-success\"> NEW </span> @endif</a>\n                                    </li>\n                                @endif\n                            @endforeach\n                @endforeach\n            </ul>\n        </div>\n    </div>\n</div>"
    }
  ],
  "./resources/views/admin/bagoucenter/support/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n<h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav', ['addon' => null])\n\n    <div class=\"row\" style=\"margin-top: 15px;\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Support</h3>\n                </div>\n                <p class=\"box-body\">\n                    You can contact me trough many way!</span>.\n                    <br>\n                    <span style=\"font-size: 20px;\">Discord: <a href=\"http://discord.bagou450.com\">here</a> (24 hour response time) </span>\n                    <br>\n                    <span style=\"font-size: 20px;\">Sms (No call): +33 7 56 89 00 36 (24 hours response time) </span>\n                    <br>\n                    <span style=\"font-size: 20px;\">Email: contact@bagou450.com (48 hours response time) </span>\n\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/versions/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n\n@section('title')\n    Version Checker\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n\n@section('content')\n@include('admin.bagoucenter.nav')\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\"><i class=\"fa fa-code-branch\"></i> Version Checker</h3>\n                    <div class=\"box-tools pull-right\">\n                        <form method=\"POST\" style=\"display: inline;\">\n                            @csrf\n                            <button type=\"submit\" class=\"btn btn-sm btn-primary\"><i class=\"fa fa-refresh\"></i> Refresh</button>\n                        </form>\n                    </div>\n                </div>\n                <div class=\"box-body table-responsive\">\n                    <table class=\"table table-hover\">\n                        <thead>\n                            <tr>\n                                <th style=\"width: 30%;\">Addon Name</th>\n                                <th style=\"width: 15%;\">Installed</th>\n                                <th style=\"width: 15%;\">Latest</th>\n                                <th style=\"width: 25%;\">Status</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            @forelse ($addonslist as $addon)\n                                @php\n                                    $license = collect($licenses)->first(fn($l) => $l->addon == $addon['id']);\n                                @endphp\n                                @if ($license)\n                                    <tr>\n                                        <td>\n                                            <strong>{{ $addon['name'] }}</strong>\n                                        </td>\n                                        <td>\n                                            <code>{{ $license->version }}</code>\n                                        </td>\n                                        <td>\n                                            <code>{{ $addon['version'] }}</code>\n                                        </td>\n                                        <td>\n                                            @if ($addon['version'] == $license->version)\n                                                <span class=\"label label-success\"><i class=\"fa fa-check\"></i> Up to date</span>\n                                            @else\n                                                <span class=\"label label-warning\"><i class=\"fa fa-exclamation-triangle\"></i> Update available</span>\n                                            @endif\n                                        </td>\n                                    </tr>\n                                @endif\n                            @empty\n                                <tr>\n                                    <td colspan=\"4\" class=\"text-center text-muted\">\n                                        <i class=\"fa fa-inbox\"></i> No addons installed\n                                    </td>\n                                </tr>\n                            @endforelse\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./database/migrations/2022_07_04_151819_create_bagoulicense_table.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\Schema;\n\nclass CreateBagoulicenseTable extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('bagoulicense', function (Blueprint $table) {\n            $table->id();\n            $table->string('addon');\n            $table->string('license');\n            $table->integer('usage');\n            $table->integer('maxusage');\n            $table->boolean('enabled');\n            $table->timestamps();\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::dropIfExists('bagoulicense');\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/MinecrafttemplateController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin;\n\nuse Illuminate\\Http\\RedirectResponse;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\DB;\nuse Prologue\\Alerts\\AlertsMessageBag;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Pterodactyl\\Contracts\\Repository\\SettingsRepositoryInterface;\n\nclass MinecrafttemplateController extends Controller\n{\n    /**\n     * @var \\Prologue\\Alerts\\AlertsMessageBag\n     */\n    protected $alert;\n\n    /**\n     * @var \\Pterodactyl\\Contracts\\Repository\\SettingsRepositoryInterface\n     */\n    private $settings;\n\n    /**\n     * SubDomainController constructor.\n     * @param AlertsMessageBag $alert\n     * @param SettingsRepositoryInterface $settings\n     */\n    public function __construct(AlertsMessageBag $alert, SettingsRepositoryInterface $settings)\n    {\n        $this->alert = $alert;\n        $this->settings = $settings;\n    }\n\n    /**\n     * @return \\Illuminate\\Contracts\\View\\Factory|\\Illuminate\\View\\View\n     */\n    public function index()\n    {\n        $minecrafttemplate = DB::table('minecrafttemplate')->get();\n\n        $minecrafttemplate = json_decode(json_encode($minecrafttemplate), true);\n\n        return view('admin.minecrafttemplate.index', [\n            'minecrafttemplate' => $minecrafttemplate,\n        ]);\n    }\n\n    /**\n     * @return \\Illuminate\\Contracts\\View\\Factory|\\Illuminate\\View\\View\n     */\n    public function new()\n    {\n\n        $eggs = DB::table('eggs')->get();\n        $nests = DB::table('nests')->get();\n\n        return view('admin.minecrafttemplate.new', ['eggs' => $eggs, 'nests' => $nests]);\n    }\n\n    /**\n     * @param Request $request\n     * @return RedirectResponse\n     * @throws \\Illuminate\\Validation\\ValidationException\n     */\n    public function create(Request $request)\n    {\n        $this->validate($request, [\n            'name' => 'required|min:1|max:100',\n            'baseurl' => 'required',\n            'logourl' => 'nullable',\n            'removeall' => 'required|boolean'\n        ]);\n        $name = $request->input('name');\n        $baseurl = $request->input('baseurl');\n        $logourl = $request->input('logourl');\n        $removeall = $request->input('removeall');\n        $zip = $request->input('zip');\n        $smalldescription = $request->input('smalldescription');\n        if (!$logourl) {\n            $logourl = '';\n        };\n        DB::table('minecrafttemplate')->insert([\n            'name' => $name,\n            'baseurl' => $baseurl,\n            'logourl' => $logourl,\n            'removeall' => $removeall,\n            'zip' => $zip,\n            'smalldescription' => $smalldescription\n        ]);\n\n        $this->alert->success('Template created succesfully')->flash();\n        return redirect()->route('admin.minecrafttemplate');\n    }\n    public function delete(Request $request)\n    {\n        $id = (int) $request->input('id', '');\n\n        $minecrafttemplate = DB::table('minecrafttemplate')->where('id', '=', $id)->get();\n        if (count($minecrafttemplate) < 1) {\n            return response()->json(['success' => false, 'error' =>  'Template not found']);\n        }\n\n        DB::table('minecrafttemplate')->where('id', '=', $id)->delete();\n\n\n        return response()->json(['success' => true]);\n    }\n} \n"
    }
  ],
  "./resources/views/admin/minecrafttemplate/new.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n\n@section('title')\n    Create Minecraft Template\n@endsection\n\n@section('content-header')\n    <h1>Create Minecraft Template\n        <small>You can add minecraft template.</small>\n    </h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li><a href=\"{{ route('admin.minecrafttemplate') }}\">Minecraft Template Manager</a></li>\n        <li class=\"active\">Create Minecraft Template</li>\n    </ol>\n@endsection\n\n@section('content')\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box box-primary\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Minecraft Template</h3>\n                    <div class=\"box-tools\">\n                        <a href=\"{{ route('admin.minecrafttemplate') }}\">\n                            <button type=\"button\" class=\"btn btn-sm btn-primary\"\n                                    style=\"border-radius: 0 3px 3px 0;margin-left:-1px;\">Go Back\n                            </button>\n                        </a>\n                    </div>\n                </div>\n                <form method=\"post\" action=\"{{ route('admin.minecrafttemplate.create')  }}\">\n                    <div class=\"box-body\">\n                        <div class=\"form-group\">\n                            <label for=\"name\" class=\"form-label\">Name</label>\n                            <input type=\"text\" name=\"name\" id=\"name\" class=\"form-control\"\n                                   placeholder=\"My minecraft template\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"smalldescription\" class=\"form-label\">Small description</label>\n                            <input type=\"text\" name=\"smalldescription\" id=\"smalldescription\" class=\"form-control\"\n                                   placeholder=\"This is a template with many minigame servers like bedward and spleef!\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"baseurl\" class=\"form-label\">Template URL</label>\n                            <input type=\"text\" name=\"baseurl\" id=\"baseurl\" class=\"form-control\"\n                                   placeholder=\"https://google.fr\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"logourl\" class=\"form-label\">Logo URL (64x64 recommended)</label>\n                            <input type=\"text\" name=\"logourl\" id=\"logourl\" class=\"form-control\"\n                                   placeholder=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/1024px-No_image_available.svg.png\" />\n                        </div>\n\n                        <div class=\"form-group\">\n                        <label for=\"removeall\" class=\"control-label\">Remove all files?</label>\n                        <div>\n                            <select name=\"removeall\" class=\"form-control\">\n                                <option value=\"0\">@lang('strings.no')</option>\n                                <option value=\"1\">@lang('strings.yes')</option>\n                            </select>\n                            <p class=\"text-muted\"><small>If you set it to yes all files are going to be removed before template instalation.</small></p>\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"zip\" class=\"control-label\">Its a zip?</label>\n                        <div>\n                            <select name=\"zip\" class=\"form-control\">\n                                <option value=\"0\">@lang('strings.no')</option>\n                                <option value=\"1\">@lang('strings.yes')</option>\n                            </select>\n                            <p class=\"text-muted\"><small>If you set it to yes all files are going to be decompressed.</small></p>\n                        </div>\n                    </div>\n                        <div class=\"box-footer\">\n                        {!! csrf_field() !!}\n                        <button class=\"btn btn-success pull-right\" type=\"submit\">Create</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n@endsection \n"
    }
  ],
  "./resources/views/admin/minecrafttemplate/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n\n@section('title')\n    Minecraft Template\n@endsection\n\n@section('content-header')\n    <h1>Minecraft Template Manager<small>You can create, edit, delete minecraft template.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Minecraft Template</li>\n    </ol>\n@endsection\n\n@section('content')\n    <div class=\"row\">\n        <div class=\" col-xs-12\">\n            <div class=\"box box-primary\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Minecraft Template</h3>\n                    <div class=\"box-tools\">\n                        <div class=\"box-tools\">\n                        <a href=\"{{ route('admin.minecrafttemplate.new') }}\"><button type=\"button\" class=\"btn btn-sm btn-primary\" style=\"border-radius: 0 3px 3px 0;margin-left:-1px;\">Create New</button></a>\n                    </div>\n                    </div>\n                </div>\n                <div class=\"box-body table-responsive no-padding\">\n                    <table class=\"table table-hover\">\n                        <tbody>\n                        <tr>\n                            <th>#</th>\n                            <th>Name</th>\n                            <th>Template URL</th>\n                            <th>LOGO URL</th>\n                            <th>Remove all files</th>\n                            <th>Compressed</th>\n                            <th>Action</th>\n                        </tr>\n                        @foreach ($minecrafttemplate as $code)\n                            <tr>\n                                <td>{{$code['id']}}</td>\n                                <td>{{$code['name']}}</td>\n                                <td>{{$code['baseurl']}}</td>\n                                <td>{{$code['logourl']}}</td>\n                                <td style=\"color:{{ ($code['removeall']) ? '#50af51' : '#d9534f' }}\"><i class=\"fa fa-{{ ($code['removeall']) ? 'check' : 'close' }}\"></i></td>\n                                <td style=\"color:{{ ($code['zip']) ? '#50af51' : '#d9534f' }}\"><i class=\"fa fa-{{ ($code['zip']) ? 'check' : 'close' }}\"></i></td>\n                                <td><a title=\"Delete\" class=\"btn btn-xs btn-danger\" data-action=\"delete\" data-id=\"{{ $code['id'] }}\"><i class=\"fa fa-trash\"></i></a></td>\n\n                            </tr>\n                        @endforeach\n                        </tbody>\n                    </table>\n                </div>\n        </div>\n    </div>\n@endsection\n\n@section('footer-scripts')\n    @parent\n    <script>\n        $('[data-action=\"delete\"]').click(function (event) {\n            event.preventDefault();\n            let self = $(this);\n            swal({\n                title: '',\n                type: 'warning',\n                text: 'Are you sure you want to delete this template?',\n                showCancelButton: true,\n                confirmButtonText: 'Delete',\n                confirmButtonColor: '#d9534f',\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true,\n                cancelButtonText: 'Cancel',\n            }, function () {\n                $.ajax({\n                    method: 'DELETE',\n                    url: '/admin/minecrafttemplate/delete',\n                    headers: {'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')},\n                    data: {\n                        id: self.data('id')\n                    }\n                }).done((data) => {\n                    if (data.success === true) {\n                        swal({\n                            type: 'success',\n                            title: 'Success!',\n                            text: 'You have successfully deleted this template.'\n                        });\n                        self.parent().parent().slideUp();\n                    } else {\n                        swal({\n                            type: 'error',\n                            title: 'Ooops!',\n                            text: (typeof data.error !== 'undefined') ? data.error : 'Failed to delete this template! Please try again later...'\n                        });\n                    }\n                }).fail(() => {\n                    swal({\n                        type: 'error',\n                        title: 'Ooops!',\n                        text: 'A system error has occurred! Please try again later...'\n                    });\n                });\n            });\n        });\n    </script>\n@endsection \n"
    }
  ],
  "./resources/routers/ServerElements.tsx": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import React from 'react';\nimport { ServerContext } from '@/state/server';\nimport routes from '@/routers/routes';\nimport Can from '@/components/elements/Can';\nimport { NavLink, Route, Switch, useRouteMatch } from 'react-router-dom';\nimport PermissionRoute from '@/components/elements/PermissionRoute';\nimport Spinner from '@/components/elements/Spinner';\nimport { NotFound } from '@/components/elements/ScreenBlock';\nimport TransitionRouter from '@/TransitionRouter';\nimport { useLocation } from 'react-router';\n\ninterface Props {\n    route: any;\n}\n\nconst NavItem = ({ route }: Props) => {\n    const match = useRouteMatch<{ id: string }>();\n\n    const nestId = ServerContext.useStoreState(state => state.server.data?.nestId);\n    const eggId = ServerContext.useStoreState(state => state.server.data?.eggId);\n\n    const to = (value: string, url = false) => {\n        return `${(url ? match.url : match.path).replace(/\\/*$/, '')}/${value.replace(/^\\/+/, '')}`;\n    };\n\n    return (\n        ((route.nestIds && route.nestIds.includes(nestId ?? 0))\n            || (route.eggIds && route.eggIds.includes(eggId ?? 0))\n            || (route.nestId && route.nestId === nestId)\n            || (route.eggId && route.eggId === eggId)\n            || (!route.eggIds && !route.nestIds && !route.nestId && !route.eggId)) &&\n        <NavLink to={to(route.path, true)} exact={route.exact}>\n            {route.name}\n        </NavLink>\n    );\n}\n\nexport const Navigation = () => {\n    return (\n        <>\n            {routes.server\n                .filter((route) => !!route.name)\n                .map((route) =>\n                    route.permission ? (\n                        <Can key={route.path} action={route.permission} matchAny>\n                            <NavItem route={route} />\n                        </Can>\n                    ) : (\n                        <React.Fragment key={route.path}>\n                            <NavItem route={route} />\n                        </React.Fragment>\n                    )\n                )}\n        </>\n    );\n}\n\nexport const ComponentLoader = () => {\n    const match = useRouteMatch<{ id: string }>();\n    const location = useLocation();\n\n    const serverNestId = ServerContext.useStoreState(state => state.server.data?.nestId);\n    const serverEggId = ServerContext.useStoreState(state => state.server.data?.eggId);\n\n    const to = (value: string, url = false) => {\n        return `${(url ? match.url : match.path).replace(/\\/*$/, '')}/${value.replace(/^\\/+/, '')}`;\n    };\n\n    return (\n        <>\n            <TransitionRouter>\n                <Switch location={location}>\n                    {routes.server.map(({ path, permission, component: Component, nestIds, eggIds, nestId, eggId }) => {\n                        return (\n                            ((nestIds && nestIds.includes(serverNestId ?? 0))\n                                || (eggIds && eggIds.includes(serverEggId ?? 0))\n                                || (nestId && serverNestId === nestId)\n                                || (eggId && serverEggId === eggId)\n                                || (!eggIds && !nestIds && !nestId && !eggId)) &&\n                            <PermissionRoute key={path} permission={permission} path={to(path)} exact>\n                                <Spinner.Suspense>\n                                    <Component />\n                                </Spinner.Suspense>\n                            </PermissionRoute>\n                        )\n                    })}\n                    <Route path={'*'} component={NotFound} />\n                </Switch>\n            </TransitionRouter>\n        </>\n    );\n}\n"
    }
  ],
  "./resources/scripts/components/server/minecrafttemplate/MinecraftTemplateContainer.tsx": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import React, { useEffect } from 'react';\nimport Spinner from '@/components/elements/Spinner';\nimport useFlash from '@/plugins/useFlash';\nimport FlashMessageRender from '@/components/FlashMessageRender';\nimport tw from 'twin.macro';\nimport ServerContentBlock from '@/components/elements/ServerContentBlock';\nimport getMinecrafttemplate from '@/api/swr/getMinecrafttemplate';\nimport MinecraftTemplateRow from './MinecraftTemplateRow';\n\nconst MinecraftTemplateContainer = () => {\n    const { clearFlashes, clearAndAddHttpError } = useFlash();\n    const { data: minecraftemplate, error, isValidating } = getMinecrafttemplate();\n    useEffect(() => {\n        if (!error) {\n            clearFlashes('server:minecraftbase');\n\n            return;\n        }\n\n        clearAndAddHttpError({ error, key: 'server:minecraftbase' });\n    }, [ error ]);\n\n    if (!minecraftemplate || (error && isValidating)) {\n        return <Spinner size={'large'} centered/>;\n    }\n\n    return (\n        <ServerContentBlock title={'Minecraft Template'}>\n            <FlashMessageRender byKey={'server:minecraftemplate'} css={tw`mb-4`}/>\n            {!minecraftemplate.length ?\n                <p css={tw`text-center text-sm text-neutral-300`}>\n                    It looks like you don&apos;t have any minecraft template.\n                </p>\n                :\n                minecraftemplate.map((data: { id: React.Key | undefined; }, index: number) => (\n                    <MinecraftTemplateRow\n                        key={data.id}\n                        minecrafttemplate={data}\n                        css={index > 0 ? tw`mt-2` : undefined}\n                    />\n                ))\n            }\n        </ServerContentBlock>\n    );\n};\n\nexport default () => {\n    return (\n        <MinecraftTemplateContainer/>\n    );\n};\n"
    }
  ],
  "./resources/scripts/components/server/minecrafttemplate/MinecraftTemplateRow.tsx": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faDownload, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport tw from 'twin.macro';\nimport useFlash from '@/plugins/useFlash';\nimport GreyRowBox from '@/components/elements/GreyRowBox';\nimport { ServerContext } from '@/state/server';\nimport decompressFiles from '@/api/server/files/decompressFiles';\nimport pullFiles from '@/api/server/files/pullFiles';\nimport { ApplicationStore } from '@/state';\nimport { Actions, useStoreActions } from 'easy-peasy';\nimport ConfirmationModal from '@/components/elements/ConfirmationModal';\nimport deleteFiles from '@/api/server/files/deleteFiles';\nimport loadDirectory from '@/api/server/files/loadDirectory';\nimport SpinnerOverlay from '@/components/elements/SpinnerOverlay';\nimport fileSize from '@/api/server/files/fileSize';\nimport downloadedSize from '@/api/server/files/downloadedSize';\ninterface Props {\n    minecrafttemplate: any;\n    className?: string;\n}\n\nexport default ({ minecrafttemplate, className }: Props) => {\n    const uuid = ServerContext.useStoreState(state => state.server.data!.uuid);\n    const [ loading, setLoading ] = useState(false);\n    const { clearAndAddHttpError } = useFlash();\n    const { addFlash, clearFlashes } = useStoreActions((actions: Actions<ApplicationStore>) => actions.flashes);\n    const [ visible, setVisible ] = useState(false);\n    const [ pourcentage, setpourcentage ] = useState('0%');\n    let logourl = 'https://static.spigotmc.org/styles/spigot/xenresource/resource_icon.png';\n    if (minecrafttemplate.logourl !== '') {\n        logourl = minecrafttemplate.logourl;\n    }\n    function clear () {\n        clearFlashes();\n    }\n    const installMinecraftTemplate = () => {\n        setLoading(true);\n        setVisible(false);\n        if (minecrafttemplate.removeall) {\n            setpourcentage('25% Remove all files.');\n            loadDirectory(uuid, '/').then((data) => {\n                for (const file of data) {\n                    deleteFiles(uuid, '/', [ file.name ]).catch(function (error) {\n                        setLoading(false);\n                        clearAndAddHttpError({ key: 'server:minecrafttemplate', error });\n                    });\n                }\n            }).catch(function (error) {\n                setLoading(false);\n                clearAndAddHttpError({ key: 'server:minecrafttemplate', error });\n            });\n        }\n        pullFiles(uuid, '/', minecrafttemplate.baseurl)\n            .then(function () {\n                fileSize(uuid, minecrafttemplate.baseurl).then((data) => {\n                    if (minecrafttemplate.zip) {\n                        setpourcentage('50% Download in progress');\n                    } else {\n                        setpourcentage('75% Download in progress');\n                    }\n                    const size = data;\n                    let downloaded = 0;\n                    const Download = setInterval(function () {\n                        if (downloaded !== size) {\n                            downloadedSize(uuid, minecrafttemplate.baseurl.substring(minecrafttemplate.baseurl.lastIndexOf('/') + 1)).then((data) => {\n                                if (minecrafttemplate.zip) {\n                                    setpourcentage('75% Download in progress... ' + Math.round((Math.round(data) - Math.round(downloaded)) / 1000000) + 'mb/s (' + Math.round(data / 1000000) + 'mb/' + Math.round(size / 1000000) + 'mb)');\n                                } else {\n                                    setpourcentage('75% Download in progress... ' + Math.round((Math.round(data) - Math.round(downloaded)) / 1000000) + 'mb/s (' + Math.round(data / 1000000) + 'mb/' + Math.round(size / 1000000) + 'mb)');\n                                }\n                                downloaded = data;\n                            }).catch(error => {\n                                console.log(error);\n                                setLoading(false);\n                            });\n                        } else {\n                            clearInterval(Download);\n                            setpourcentage('75% Download finished');\n                            if (minecrafttemplate.zip) {\n                                setpourcentage('75% Decompress files');\n                                decompressFiles(uuid, '/', minecrafttemplate.baseurl.substring(minecrafttemplate.baseurl.lastIndexOf('/') + 1))\n                                    .then(function () {\n                                        setpourcentage('90% Delete compressed files...');\n                                        deleteFiles(uuid, '/', [ `${minecrafttemplate.baseurl.substring(minecrafttemplate.baseurl.lastIndexOf('/') + 1)}` ])\n                                            .then(function () {\n                                                addFlash({\n                                                    key: 'server:minecrafttemplate',\n                                                    type: 'success',\n                                                    message: 'Template installed successfully',\n                                                });\n                                                setLoading(false);\n                                                setTimeout(clear, 3000);\n                                            }).catch(function (error) {\n                                                setLoading(false);\n                                                clearAndAddHttpError({ key: 'server:minecrafttemplate', error });\n                                            });\n                                    })\n                                    .catch(function (error) {\n                                        setLoading(false);\n                                        clearAndAddHttpError({ key: 'server:minecrafttemplate', error });\n                                    });\n                            } else {\n                                addFlash({\n                                    key: 'server:minecrafttemplate',\n                                    type: 'success',\n                                    message: 'Template installed successfully',\n                                });\n                                setLoading(false);\n                                setTimeout(clear, 3000);\n                            }\n                        }\n                    }, 500);\n                }).catch(function (error) {\n                    setLoading(false);\n                    clearAndAddHttpError({ key: 'server:minecrafttemplate', error });\n                });\n            })\n            .catch(function (error) {\n                setLoading(false);\n                clearAndAddHttpError({ key: 'server:minecrafttemplate', error });\n            });\n    };\n\n    return (\n        <GreyRowBox css={tw`flex-wrap md:flex-nowrap items-center`} className={className}>\n            <SpinnerOverlay visible={loading || false} fixed>{pourcentage}</SpinnerOverlay>\n            <ConfirmationModal\n                visible={visible}\n                title={`Install ${minecrafttemplate.name}?`}\n                buttonText={'Install'}\n                onConfirmed={() => installMinecraftTemplate()}\n                onModalDismissed={() => setVisible(false)}\n            >\n                <p css={tw`text-neutral-300 mt-4`}>\n                    {minecrafttemplate.removeall ?\n                        'This action remove all files of the server. Are you sure you want to continue?'\n                        :\n                        'This action remove old files releated to this template. Are you sure you want to continue?'\n                    }\n                </p>\n            </ConfirmationModal>\n            <div css={tw`flex items-center truncate w-full md:flex-1`}>\n                <div css={tw`flex flex-col truncate`}>\n                    <div css={tw`flex items-center text-sm mb-1`}>\n                        <div css={tw`w-10 h-10 overflow-hidden hidden md:block`}>\n                            <img css={tw`w-full h-full`} alt={minecrafttemplate.name} src={logourl}/>\n                        </div>\n                        <div css={tw`ml-4`}>\n                            {minecrafttemplate.name}\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n            <div css={tw`flex-1 md:flex-none md:ml-5 md:w-4/12 mt-4 ml-5 md:mt-0 md:text-center`}>\n                <p css={tw`text-sm`}>\n                    {minecrafttemplate.smalldescription}\n                </p>\n            </div>\n            <div css={tw`flex-none md:flex-none hidden md:block md:w-48 mt-4 md:mt-0 md:ml-1 md:text-center`}>\n                <p css={tw`text-2xs text-neutral-500 uppercase mt-1`}>Compressed</p>\n                <p>\n                    {minecrafttemplate.zip ?\n                        <FontAwesomeIcon icon={faCheck} color='green'/>\n                        :\n                        <FontAwesomeIcon icon={faWindowClose} color='red'/>\n\n                    }\n                </p>\n            </div>\n            <div css={tw`flex-none md:flex-none hidden md:block md:w-48 mt-4 md:mt-0 md:ml-1 md:text-center`}>\n                <p css={tw`text-2xs text-neutral-500 uppercase mt-1`}>Remove all files</p>\n                <p>\n                    {minecrafttemplate.removeall ?\n                        <FontAwesomeIcon icon={faCheck} color='green'/>\n                        :\n                        <FontAwesomeIcon icon={faWindowClose} color='red'/>\n\n                    }\n                </p>\n            </div>\n            <div css={tw`mt-4 md:mt-0 ml-6`} style={{ marginRight: '-0.5rem' }}>\n                <button\n                    type={'button'}\n                    aria-label={'Install'}\n                    css={tw`block text-sm p-1 md:p-2 text-neutral-500 hover:text-neutral-100 transition-colors duration-150 mx-4`}\n                    onClick={() => setVisible(true)}\n                >\n                    <FontAwesomeIcon icon={faDownload} /> Install\n                </button>\n            </div>\n        </GreyRowBox>\n    );\n};\n"
    }
  ],
  "./resources/scripts/api/server/files/pullFiles.ts": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import http from '@/api/http';\n\nexport default (uuid: string, folder: string, downloadurl: string): Promise<void> => {\n    return new Promise((resolve, reject) => {\n        http.post(`/api/client/servers/${uuid}/files/pull`, { directory: folder, url: downloadurl })\n            .then(() => resolve())\n            .catch(reject);\n    });\n};\n"
    }
  ],
  "./resources/scripts/api/server/files/downloadedSize.ts": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import http from '@/api/http';\n\nexport default async (uuid: string, path: string) => {\n    const { data } = await http.post(`/api/client/servers/${uuid}/files/downloadedSize`, { path });\n\n    return (data || 0);\n};\n"
    }
  ],
  "./resources/scripts/api/server/files/fileSize.ts": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import http from '@/api/http';\n\nexport default async (uuid: string, url: string) => {\n    const { data } = await http.post(`/api/client/servers/${uuid}/files/fileSize`, { url });\n\n    return (data || 0);\n};\n"
    }
  ],
  "./resources/scripts/api/swr/getMinecrafttemplate.ts": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import useSWR from 'swr';\nimport http from '@/api/http';\n\nexport default () => {\n    return useSWR([ 'server:minecrafttemplate' ], async () => {\n        const { data } = await http.get('/api/client/minecrafttemplate', { timeout: 60000 });\n\n        return data;\n    },);\n};\n"
    }
  ],
  "./database/migrations/2022_05_12_200037_create_minecrafttemplate_table.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\Schema;\n\nclass CreateMinecrafttemplateTable extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('minecrafttemplate', function (Blueprint $table) {\n            $table->id();\n            $table->string('name');\n            $table->string('smalldescription');\n            $table->string('baseurl');\n            $table->string('logourl')->nullable();\n            $table->boolean('removeall');\n            $table->boolean('zip');\n\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::dropIfExists('minecraftbase');\n    }\n}\n"
    }
  ],
  "./database/migrations/2026_02_01_000000_addon_483_install.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass Addon483Install extends Migration\n{\n    public function up()\n    {\n        // Addon 483 installation\n        // All files have been copied\n    }\n\n    public function down()\n    {\n        // Addon 483 removal\n    }\n}\n"
    }
  ]
}