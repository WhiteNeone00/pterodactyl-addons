{
  "./app/Http/Controllers/Admin/Bagou/BagouCenterController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Support\\Facades\\Http;\n\nclass BagouCenterController extends Controller\n{\n    /**\n     * Display bagou center main page\n     */\n    public function index(): View\n    {\n        $addonslist = Http::get('https://api.whee.lol/api/client/pterodactyl/addonsList')->json();\n        \n        // Check API status\n        try {\n            $apiResponse = Http::timeout(5)->get('https://api.whee.lol/api/client/pterodactyl/checkOnline');\n            $apistatus = (int)trim($apiResponse->body());\n        } catch (\\Exception $e) {\n            $apistatus = 0;\n        }\n        \n        // Check CDN status\n        try {\n            $cdnResponse = Http::timeout(5)->get('https://cdn.whee.lol/status');\n            $cdnstatus = (int)trim($cdnResponse->body());\n        } catch (\\Exception $e) {\n            $cdnstatus = 0;\n        }\n        \n        return view('admin.bagoucenter.index', [\n            'addonslist' => $addonslist,\n            'apistatus' => $apistatus,\n            'cdnstatus' => $cdnstatus,\n        ]);\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouLicenseController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Models\\Bagoulicense;\nuse Illuminate\\Http\\RedirectResponse;\nuse Prologue\\Alerts\\AlertsMessageBag;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Http;\n\nclass BagouLicenseController extends Controller\n{\n    protected $alert;\n\n    public function __construct(\n        AlertsMessageBag $alert\n    ) {\n        $this->alert = $alert;\n    }\n    /**\n     * Display licensing system\n     */\n    public function index(): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $licenses = Bagoulicense::all();\n        return view('admin.bagoucenter.license.index', ['addonslist' => $addonslist, 'licenses' => $licenses]);\n    }\n\n    /**\n     * Display license of the addon\n     *\n     * @throws \\Pterodactyl\\Exceptions\\Repository\\RecordNotFoundException\n     */\n    public function license(string $addon): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $dbaddon = Bagoulicense::where('addon', $addon)->first();\n        return view('admin.bagoucenter.license.license', [\n            'addon' => $addon,\n            'addonslist' => $addonslist,\n            'enabled' => ($dbaddon)? $dbaddon['enabled'] : 0,\n            'usage' => ($dbaddon) ? $dbaddon['usage'] : null ,\n            'maxusage' => ($dbaddon) ? $dbaddon['maxusage'] : null,\n            'license' => ($dbaddon) ? $dbaddon['license']: 'Your license',\n        ]);\n    }\n\n    /**\n     * Set a license\n     *\n     * @throws \\Throwable\n     */\n    public function setlicense(Request $request, $addon): RedirectResponse\n    {   \n        $dbaddon = Bagoulicense::where('addon', $addon)->first();\n        \n        // If license is empty or same as before, just update the enabled status\n        if (empty($request->license) || ($dbaddon && $dbaddon->license === $request->license)) {\n            if ($dbaddon) {\n                $dbaddon->update(['enabled' => $request->enabled]);\n                $this->alert->success('License status updated successfully!')->flash();\n            } else {\n                $this->alert->danger('No license found for this addon')->flash();\n            }\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        try {\n            $response = Http::timeout(10)->post(\"https://api.whee.lol/api/client/pterodactyl/license\", [\n                'id' => $request->license,\n                'selectaddon' => $addon\n            ]);\n            \n            $license = $response->json();\n        } catch (\\Exception $e) {\n            $this->alert->danger('Error verifying license. Please try again later.')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        // Check response structure and handle all error cases\n        if (!isset($license['status'])) {\n            $this->alert->danger('Invalid response from license server.')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        // Handle error responses\n        if ($license['status'] === 'error') {\n            $message = $license['message'] ?? 'Unknown error';\n            \n            // Parse specific error messages\n            if ($message === 'No license found.') {\n                $this->alert->danger('License not found. Please contact support on discord')->flash();\n            } elseif ($message === 'Too many usage.') {\n                $this->alert->danger('License is already used on too many panels. Please contact support.')->flash();\n            } elseif ($message === 'Not the good addon.') {\n                $this->alert->danger('This license is not for this addon!')->flash();\n            } elseif (strpos($message, 'blacklist') !== false || strpos($message, 'Blacklist') !== false) {\n                $this->alert->danger('This license has been blacklisted. Please contact support.')->flash();\n            } else {\n                $this->alert->danger('Error: ' . $message)->flash();\n            }\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n\n        // Handle successful response\n        if ($license['status'] === 'success') {\n            // Check for blacklisted status\n            if (isset($license['blacklisted']) && $license['blacklisted']) {\n                if(Bagoulicense::where('addon', $addon)->exists()) {\n                    Bagoulicense::where('addon', $addon)->update(['license' => $request->license, 'usage' => 1, 'maxusage' => 1, 'enabled' => false]);\n                } else {\n                    Bagoulicense::create(['addon' => $addon, 'license' => $request->license, 'usage' => 1, 'maxusage' => 1, 'enabled' => false]);\n                }\n                $this->alert->danger('This license has been blacklisted. Please contact support.')->flash();\n                return redirect()->route('admin.bagoucenter.license.addon', $addon);\n            }\n            \n            // Check if license is for correct addon\n            if (!isset($license['name']) || $license['name'] != $addon) {\n                $this->alert->danger('This license is not for this addon!')->flash();\n                return redirect()->route('admin.bagoucenter.license.addon', $addon);\n            }\n            \n            // Update or create license record\n            if(Bagoulicense::where('addon', $addon)->exists()) {\n                Bagoulicense::where('addon', $addon)->update([\n                    'license' => $request->license, \n                    'usage' => $license['usage'] ?? 0, \n                    'maxusage' => $license['maxusage'] ?? 0, \n                    'enabled' => $request->enabled\n                ]);\n            } else {\n                Bagoulicense::create([\n                    'addon' => $addon, \n                    'license' => $request->license, \n                    'usage' => $license['usage'] ?? 0, \n                    'maxusage' => $license['maxusage'] ?? 0, \n                    'enabled' => $request->enabled\n                ]);\n            }\n            $this->alert->success('License updated successfully!')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);\n        }\n        \n        $this->alert->danger('Unknown error updating license')->flash();\n        return redirect()->route('admin.bagoucenter.license.addon', $addon);\n    }\n\n    /**\n     * Remove a license\n     *\n     * @throws \\Throwable\n     */\n    public function removelicense($addon): RedirectResponse\n    {   \n        if(Bagoulicense::where('addon', $addon)->exists()) {\n            $transaction = Bagoulicense::where('addon', $addon)->first();\n            if(!$transaction) {\n                $this->alert->danger('No license found.')->flash();\n                return redirect()->route('admin.bagoucenter.license.addon', $addon);\n            }\n            $transaction = $transaction['license'];\n            $license = Http::delete(\"https://api.whee.lol/license?id=$transaction\")->object();\n            Bagoulicense::where('addon', $addon)->delete();\n            $this->alert->success('License removed successfully')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);        \n        } else {\n            $this->alert->danger('No license found.')->flash();\n            return redirect()->route('admin.bagoucenter.license.addon', $addon);     \n        }\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouMcVersionsController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\Support\\Facades\\Http;\nuse Illuminate\\View\\View;\nuse Prologue\\Alerts\\AlertsMessageBag;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Http\\Request;\nuse Pterodactyl\\Models\\Bagoulicense;\nuse Pterodactyl\\Models\\MinecraftModpacks;\n\nclass BagouMcVersionsController extends Controller\n{\n    protected $alert;\n\n    public function __construct(\n        AlertsMessageBag $alert\n    ) {\n        $this->alert = $alert;\n    }\n    /**\n     * Display version \n     */\n    public function index(): View\n    {\n        $addonslist = Http::get('https://api.whee.lol/api/client/pterodactyl/addonsList')->json();\n        $licenses = Bagoulicense::all();\n        $modpacks = MinecraftModpacks::get();\n        return view('admin.bagoucenter.settings.mcversions.index', ['licenses' => $licenses, 'addonslist' => $addonslist, 'modpacks' => $modpacks]);\n    }\n    /**\n     * Add Versions\n     */\n    public function add(Request $request): View\n    {\n        if(!ends_with($request->url, ['zip', 'tar.gz', 'tar.xz'])) {\n            $this->alert->danger('The url is invalid (is not a direct link to a zip,tar.gz or tar.xz!')->flash();\n            return $this->index();\n        }\n        MinecraftModpacks::create(['name' => $request->name, 'version' => $request->version, 'mcversion' => $request->mcversion, 'url' => $request->url , 'icon' => $request->icon]);\n        $this->alert->success('Modpack added sucessfully!')->flash();\n        return $this->index();\n\n    }\n     /**\n     * Delete Versions\n     */\n    public function delete(string $id): View\n    {\n        MinecraftModpacks::where('id', '=', $id)->delete();\n        $this->alert->success('Modpack removed sucessfully!')->flash();\n        return $this->index();\n\n    }\n}\n\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouSettingsController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Support\\Facades\\Http;\nuse Pterodactyl\\Models\\Bagoulicense;\n\nclass BagouSettingsController extends Controller\n{\n    public function index(): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $licenses = Bagoulicense::all();\n        return view('admin.bagoucenter.settings.index', ['addonslist' => $addonslist, 'licenses' => $licenses]);\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouSupportController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\n\nclass BagouSupportController extends Controller\n{\n    public function index(): View\n    {\n        return view('admin.bagoucenter.support.index');\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagouVersionsController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin\\Bagou;\n\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Illuminate\\Support\\Facades\\Http;\nuse Pterodactyl\\Models\\Bagoulicense;\n\nclass BagouVersionsController extends Controller\n{\n    public function index(): View\n    {\n        try {\n            $response = Http::timeout(10)->get('https://api.whee.lol/api/client/pterodactyl/addonsList');\n            $addonslist = $response->successful() ? $response->json() : [];\n        } catch (\\Exception $e) {\n            $addonslist = [];\n        }\n        $licenses = Bagoulicense::all();\n        return view('admin.bagoucenter.versions.index', ['addonslist' => $addonslist, 'licenses' => $licenses]);\n    }\n}\n"
    }
  ],
  "./app/Http/Controllers/Admin/Bagou/BagoulicenseController.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Controllers\\Admin;\n\nuse Exception;\nuse PDOException;\nuse Illuminate\\View\\View;\nuse Pterodactyl\\Models\\Bagoulicense;\nuse Illuminate\\Http\\RedirectResponse;\nuse Prologue\\Alerts\\AlertsMessageBag;\nuse Pterodactyl\\Http\\Controllers\\Controller;\nuse Pterodactyl\\Services\\Databases\\Hosts\\HostUpdateService;\nuse Pterodactyl\\Http\\Requests\\Admin\\DatabaseHostFormRequest;\nuse Pterodactyl\\Services\\Databases\\Hosts\\HostCreationService;\nuse Pterodactyl\\Services\\Databases\\Hosts\\HostDeletionService;\nuse Pterodactyl\\Contracts\\Repository\\DatabaseRepositoryInterface;\nuse Pterodactyl\\Contracts\\Repository\\LocationRepositoryInterface;\nuse Pterodactyl\\Contracts\\Repository\\DatabaseHostRepositoryInterface;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Http;\n\nclass BagoulicenseController extends Controller\n{\n    protected $alert;\n\n    public function __construct(\n        AlertsMessageBag $alert\n    ) {\n        $this->alert = $alert;\n    }\n    /**\n     * Display licensing system\n     */\n    public function index(): View\n    {\n        return view('admin.bagoulicense.index');\n    }\n\n    /**\n     * Display license of the addon\n     *\n     * @throws \\Pterodactyl\\Exceptions\\Repository\\RecordNotFoundException\n     */\n    public function license(string $addon): View\n    {\n        $dbaddon = Bagoulicense::where('addon', $addon)->first();\n        return view('admin.bagoulicense.license', [\n            'addon' => $addon,\n            'enabled' => ($dbaddon)? $dbaddon['enabled'] : 0,\n            'usage' => ($dbaddon) ? $dbaddon['usage_count'] : null ,\n            'maxusage' => ($dbaddon) ? $dbaddon['maxusage'] : null,\n            'license' => ($dbaddon) ? $dbaddon['license']: 'Your license',\n        ]);\n    }\n\n    /**\n     * Set a license\n     *\n     * @throws \\Throwable\n     */\n    public function setlicense(Request $request, $addon): RedirectResponse\n    {   \n        $license = Http::accept('application/json')->get(\"https://api.whee.lol/license\", [\n            'id' => $request->license,\n            'selectaddon' => $addon\n        ])->object();\n        if($license->message == 'No purchase found') {\n            $this->alert->danger('License not found please contact me on discord')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n        } else if($license->message == 'Too many license usage please contact me on discord') {\n            $this->alert->danger('License are already used on too many panel please contact me on discord')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n        } else if ($license->blacklisted) {\n            if(Bagoulicense::where('addon', $addon)->exists()) {\n\n                Bagoulicense::where('addon', $addon)->update(['license' => $request->license, 'usage_count' => 1, 'maxusage' => 1, 'enabled' => false]);\n               } else {\n                Bagoulicense::create(['addon' => $addon, 'license' => $request->license, 'usage_count' => 1, 'maxusage' => 1, 'enabled' => false]);\n               }\n            $this->alert->danger('You are BLACKLISTED (probably because of a paypal dispute)')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n         } else if($license->message == 'Not the good addon') {\n            $this->alert->danger('This license is not for this addon!')->flash();\n            return redirect()->route('admin.bagoulicense.license', $addon);\n        } else if($license->message == 'done' && $license->name == $addon && !$license->blacklisted) {\n            if(Bagoulicense::where('addon', $addon)->exists()) {\n\n                Bagoulicense::where('addon', $addon)->update(['license' => $request->license, 'usage_count' => $license->usage, 'maxusage' => $license->maxusage, 'enabled' => true]);\n               } else {\n                Bagoulicense::create(['addon' => $addon, 'license' => $request->license, 'usage_count' => $license->usage, 'maxusage' => $license->maxusage, 'enabled' => true]);\n               }\n        \n               $this->alert->success('License updated sucessfully!')->flash();\n               return redirect()->route('admin.bagoulicense.license', $addon);\n        }\n\n        $this->alert->danger('Error!')->flash();\n        return redirect()->route('admin.bagoulicense.license', $addon);\n    }\n\n /**\n     * Rmove a license\n     *\n     * @throws \\Throwable\n     */\n    public function removelicense($addon): RedirectResponse\n    {   \n            if(Bagoulicense::where('addon', $addon)->exists()) {\n                $transaction = Bagoulicense::where('addon', $addon)->first();\n                if(!$transaction) {\n                    $this->alert->danger('No license found.')->flash();\n                    return redirect()->route('admin.bagoulicense.license', $addon);\n                }\n                $transaction = $transaction['license'];\n                $license = Http::delete(\"https://api.whee.lol/license?id=$transaction\")->object();\n                Bagoulicense::where('addon', $addon)->delete();\n                $this->alert->success('License removed sucessfully')->flash();\n                return redirect()->route('admin.bagoulicense.license', $addon);        \n               } else {\n                $this->alert->danger('No license found.')->flash();\n                return redirect()->route('admin.bagoulicense.license', $addon);     \n            }\n\n    }\n}\n"
    }
  ],
  "./resources/views/admin/bagoucenter/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n<h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav', ['addon' => null])\n\n    <div class=\"row\" style=\"margin-top: 15px;\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Hub</h3>\n                </div>\n                <p class=\"box-body\">\n                    Select a tab above for manage all your Whee Service addons!</span>.\n                    <br>\n                    <span style=\"font-size: 20px;\">Api status: @if ($apistatus === 1) Online <i class=\"fa fa-check-circle\" style=\"color: green;\" aria-hidden=\"true\"></i> @elseif ($apistatus === 2) Maintenance mode <i class=\"fa fa-exclamation-circle\" style=\"color: yellow;\" aria-hidden=\"true\"></i> @else Down <i class=\"fa fa-minus-circle\" style=\"color: red;\" aria-hidden=\"true\"></i> @endif</span>\n                    <br>\n                   <span style=\"font-size: 20px;\">CDN status: @if ($cdnstatus === 1) Online <i class=\"fa fa-check-circle\" style=\"color: green;\" aria-hidden=\"true\"></i> @elseif ($cdnstatus === 2) Maintenance mode <i class=\"fa fa-exclamation-circle\" style=\"color: yellow;\" aria-hidden=\"true\"></i> @else Down <i class=\"fa fa-minus-circle\" style=\"color: red;\" aria-hidden=\"true\"></i> @endif</span>\n\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service<small>Configure license for Whee Service Addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoulicense.nav', ['addon' => $addon])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Bagou License</h3>\n                </div>\n                <form action=\"{{ route('admin.settings') }}\" method=\"POST\">\n                    <div class=\"box-body\">\n                        <div class=\"row\">\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Company Name</label>\n                                <div>\n                                    <input type=\"text\" class=\"form-control\" name=\"app:name\" value=\"{{ old('app:name', config('app.name')) }}\" />\n                                    <p class=\"text-muted\"><small>This is the name that is used throughout the panel and in emails sent to clients.</small></p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Require 2-Factor Authentication</label>\n                                <div>\n                                    <div class=\"btn-group\" data-toggle=\"buttons\">\n                                        @php\n                                            $level = old('pterodactyl:auth:2fa_required', config('pterodactyl.auth.2fa_required'));\n                                        @endphp\n                                        <label class=\"btn btn-primary @if ($level == 0) active @endif\">\n                                            <input type=\"radio\" name=\"pterodactyl:auth:2fa_required\" autocomplete=\"off\" value=\"0\" @if ($level == 0) checked @endif> Not Required\n                                        </label>\n                                        <label class=\"btn btn-primary @if ($level == 1) active @endif\">\n                                            <input type=\"radio\" name=\"pterodactyl:auth:2fa_required\" autocomplete=\"off\" value=\"1\" @if ($level == 1) checked @endif> Admin Only\n                                        </label>\n                                        <label class=\"btn btn-primary @if ($level == 2) active @endif\">\n                                            <input type=\"radio\" name=\"pterodactyl:auth:2fa_required\" autocomplete=\"off\" value=\"2\" @if ($level == 2) checked @endif> All Users\n                                        </label>\n                                    </div>\n                                    <p class=\"text-muted\"><small>If enabled, any account falling into the selected grouping will be required to have 2-Factor authentication enabled to use the Panel.</small></p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Status</label>\n                                <div>\n                                   <p>@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n<h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoulicense.nav', ['addon' => $addon])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service</h3>\n                </div>\n                <form method=\"POST\">\n                    <div class=\"box-body\">\n                        <div class=\"row\">\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Addon license (Transaction id)</label>\n                                <div>\n                                    <input type=\"text\" class=\"form-control\" name=\"license\" value=\"{{ $license }}\" />\n                                    <p class=\"text-muted\"><small>Add here your transaction id if not work contact me on <a href=\"https://discord.bagou450.com\">discord</a></small></p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Usage</label>\n                                <div>\n                                    <p>{{ $usage && $maxusage ? \"$usage / $maxusage panel(s)\" : 'No license' }} <br> {{ $usage && $maxusage ? 'Contact me on discord for increase panel limit.' : 'For use the addon you need to insert a license' }}</p>\n                                </div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label class=\"control-label\">Status</label>\n                                <div>\n                                   <p style=\"font-size: 50px\">{{$enabled ? 'âœ…' : 'ðŸš«' }}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"box-footer\">\n                        {!! csrf_field() !!}\n                        <button type=\"submit\" name=\"_method\" value=\"POST\"  style=\"margin-left: 8px\" class=\"btn btn-sm btn-primary pull-right \">Save</button>\n                        {!! csrf_field() !!}\n                        <button type=\"submit\" name=\"_method\" value=\"DELETE\" class=\"btn btn-sm btn-danger pull-right \">Remove License</button>\n\n                </form>\n            </div>\n\n            </div>\n        </div>\n    </div>\n@endsection\n</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"box-footer\">\n                        {!! csrf_field() !!}\n                        <button type=\"submit\" name=\"_method\" value=\"PATCH\" class=\"btn btn-sm btn-primary pull-right\">Save</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.license.nav', ['addon' => null, 'addonslist' => $addonslist, 'licenses' => $licenses])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service</h3>\n                </div>\n                <p class=\"box-body\">\n                    You can manage your license here.\n                    <br>Actual license status:\n                    <ul>\n                        @foreach ($addonslist as $addon)\n                            @php\n                                $found = false;\n                            @endphp\n                            @foreach($licenses as $license) \n                                @if($license->addon == $addon['id'])\n                                    @php\n                                        $found = true;\n                                    @endphp\n                                    <li>{{$addon['name']}}: <span style=\"color: green;\">Activated</span></li>\n                                @endif\n                            @endforeach\n                            @if (!$found)\n                                <li>{{$addon['name']}}: <span style=\"color: red;\">Disabled</span></li>\n                            @endif\n                        @endforeach\n                    </ul>\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license/license.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.license.nav', ['addon' => $addon, 'addonslist' => $addonslist])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">License Configuration\n                        @if ($enabled == 1)\n                            <span class=\"label label-success\" style=\"margin-left: 10px;\"><i class=\"fa fa-check\"></i> Active</span>\n                        @else\n                            <span class=\"label label-danger\" style=\"margin-left: 10px;\"><i class=\"fa fa-times\"></i> Inactive</span>\n                        @endif\n                    </h3>\n                </div>\n                <form action=\"{{ route('admin.bagoucenter.license.addon', $addon) }}\" method=\"POST\">\n                    {{ csrf_field() }}\n                    <div class=\"box-body\">\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"license\">License Key</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"license\" name=\"license\" value=\"{{ old('license', $license) }}\" placeholder=\"Your license key\" />\n                                    <small class=\"form-text text-muted\">Enter your unique license key provided when purchased</small>\n                                </div>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label>Addon Status</label>\n                                    <div style=\"margin-top: 8px;\">\n                                        <div class=\"btn-group\" data-toggle=\"buttons\" style=\"width: 100%;\">\n                                            <label class=\"btn btn-default @if ($enabled == 1) active @endif\" style=\"flex: 1; background-color: @if ($enabled == 1) #007bff @endif; color: @if ($enabled == 1) white @endif; border-color: @if ($enabled == 1) #0056b3 @endif;\">\n                                                <input type=\"radio\" name=\"enabled\" value=\"1\" @if ($enabled == 1) checked @endif autocomplete=\"off\"> \n                                                <i class=\"fa fa-check\"></i> Enable\n                                            </label>\n                                            <label class=\"btn btn-default @if ($enabled == 0) active @endif\" style=\"flex: 1; background-color: @if ($enabled == 0) #6c757d @endif; color: @if ($enabled == 0) white @endif; border-color: @if ($enabled == 0) #5a6268 @endif;\">\n                                                <input type=\"radio\" name=\"enabled\" value=\"0\" @if ($enabled == 0) checked @endif autocomplete=\"off\">\n                                                <i class=\"fa fa-times\"></i> Disable\n                                            </label>\n                                        </div>\n                                    </div>\n                                    <small class=\"form-text text-muted\">Enable to activate, disable to deactivate</small>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"usage\">Current Usage</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"usage\" disabled value=\"{{ $usage ?? '0' }}\" />\n                                    <small class=\"form-text text-muted\">Panels currently using this license</small>\n                                </div>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"maxusage\">Max Usage</label>\n                                    <input type=\"text\" class=\"form-control\" id=\"maxusage\" disabled value=\"{{ $maxusage ?? '0' }}\" />\n                                    <small class=\"form-text text-muted\">Maximum allowed panels for this license</small>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"box-footer\">\n                        <button type=\"submit\" class=\"btn btn-success\"><i class=\"fa fa-save\"></i> Save Changes</button>\n                        <a href=\"{{ route('admin.bagoucenter.license') }}\" class=\"btn btn-default\"><i class=\"fa fa-arrow-left\"></i> Back</a>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/license/nav.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@php\n    $router = app('router');\n@endphp\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <div class=\"nav-tabs-custom nav-tabs-floating\">\n            <ul class=\"nav nav-tabs\">\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.license') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.license') }}\">Overview</a>\n                </li>\n                @foreach ($addonslist as $addonn) \n                    @if (isset($addonn['id']) && isset($addonn['name']))\n                        <li class=\"{{ $addon == $addonn['id'] ? 'active' : '' }}\">\n                            <a href=\"{{ route('admin.bagoucenter.license.addon', $addonn['id']) }}\">{{$addonn['name']}} @if($addonn['new']) <span class=\"label label-success\"> NEW </span> @endif</a>\n                        </li>\n                    @endif\n                @endforeach\n            </ul>\n        </div>\n    </div>\n</div>"
    }
  ],
  "./resources/views/admin/bagoucenter/nav.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@php\n    $router = app('router');\n@endphp\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <div class=\"nav-tabs-custom nav-tabs-floating\" style=\"margin-bottom: 1px;\">\n            <ul class=\"nav nav-tabs\">\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter') }}\">Overview</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.license') || $router->currentRouteNamed('admin.bagoucenter.license.addon')? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.license') }}\">License</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.versions') || str_starts_with($router->current()->uri, 'admin/bagoucenter/versions') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.versions') }}\">Version checker</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.settings') || str_starts_with($router->current()->uri, 'admin/bagoucenter/settings') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.settings') }}\">Settings</a>\n                </li>\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.support') || str_starts_with($router->current()->uri, 'admin/bagoucenter/support') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.support') }}\">Support</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>"
    }
  ],
  "./resources/views/admin/bagoucenter/settings/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.settings.nav', ['addon' => null, 'addonslist' => $addonslist, 'licenses' => $licenses])\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Settings</h3>\n                </div>\n                <p class=\"box-body\">\n                    Choose a tab above for manage addon settings\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/settings/mcversions/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav')\n@include('admin.bagoucenter.settings.nav', ['addon' => null, 'addonslist' => $addonslist, 'licenses' => $licenses])\n\n<div class=\"row\" style=\"margin-top: 15px;\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Modpacks list</h3>\n                    <div class=\"box-tools\">\n                    <button class=\"btn btn-sm btn-primary\" data-toggle=\"modal\" data-target=\"#newModPackModal\">Create New</button>\n                </div>\n                </div>\n                <div class=\"box-body table-responsive no-padding\">\n                <table class=\"table table-hover\">\n                    <tbody>\n                        <tr>\n                            <th>Icon</th>\n                            <th>Name</th>\n                            <th>Version</th>\n                            <th>McVersion</th>\n                            <th>URL</th>\n                            <th></th>\n                        </tr>\n                        @foreach ($modpacks as $modpack)\n                            <tr>\n\n                                <td><img src=\"{{ $modpack->icon }}\" alt=\"modpack icon\" height=\"64px\" width=\"64px\"/> </td>\n                                <td>{{ $modpack->name }}</td>\n                                <td>{{ $modpack->version }}</td>\n                                <td>{{ $modpack->mcversion }}</td>\n                                <td>{{ $modpack->url }}</td>\n                                <td>\n                                    <a href=\"#\" data-action=\"remove-modpack\" data-attr=\"{{ $modpack->id }}\">\n                                        <i class=\"fa fa-trash-can text-danger\"></i>\n                                    </a>\n                                </td>\n                            </tr>\n                        @endforeach\n                    </tbody>\n                </table>\n            </div>\n            </div>\n        </div>\n    </div>\n<div class=\"modal fade\" id=\"newModPackModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <form action=\"{{ route('admin.bagoucenter.settings.addon.mcversions') }}\" method=\"POST\">\n                <div class=\"modal-header\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n                    <h4 class=\"modal-title\">Create New Modpack</h4>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"form-group\">\n                        <label for=\"pName\" class=\"form-label\">Name</label>\n                        <input type=\"text\" name=\"name\" id=\"pName\" class=\"form-control\" />\n                        <p class=\"text-muted small\">The name of the modpack</p>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <label for=\"pHost\" class=\"form-label\">Version</label>\n                            <input type=\"text\" name=\"version\" id=\"pVersion\" class=\"form-control\" />\n                            <p class=\"text-muted small\">The version of the modpack</p>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <label for=\"pPort\" class=\"form-label\">Minecraft Version</label>\n                            <input type=\"text\" name=\"mcversion\" id=\"pMcversion\" class=\"form-control\"/>\n                            <p class=\"text-muted small\">The Minecraft version of the modpack.</p>\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"pUrl\" class=\"form-label\">Url</label>\n                        <input type=\"text\" name=\"url\" id=\"pUrl\" class=\"form-control\" />\n                        <p class=\"text-muted small\">The download url of the modpack (This MUST be a direct download link)</p>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"pIcon\" class=\"form-label\">Icon</label>\n                        <input type=\"text\" name=\"icon\" id=\"pIcon\" class=\"form-control\" />\n                        <p class=\"text-muted small\">The icon of the modpack (must be a direct link).</p>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    {!! csrf_field() !!}\n                    <button type=\"button\" class=\"btn btn-secondary btn-sm pull-left\" data-dismiss=\"modal\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-success btn-sm\">Create</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n@endsection\n\n@section('footer-scripts')\n    @parent\n    <script>\n        $(document).ready(function() {\n            $('[data-action=\"remove-modpack\"]').click(function (event) {\n                var self = $(this);\n                event.preventDefault();\n                swal({\n                    type: 'warning',\n                    title: 'Remove the modpack?',\n                    showCancelButton: true,\n                    allowOutsideClick: true,\n                    closeOnConfirm: false,\n                    confirmButtonText: 'Remove',\n                    confirmButtonColor: '#d9534f',\n                    showLoaderOnConfirm: true\n                }, function () {\n                    $.ajax({\n                        method: 'DELETE',\n                        url: '/admin/bagoucenter/settings/addon/mcversions/' + self.data('attr'),\n                        headers: {\n                            'X-CSRF-TOKEN': '{{ csrf_token() }}'\n                        }\n                    }).done(function () {\n                        swal({\n                            type: 'success',\n                            title: 'Removed!',\n                            text: 'Modpack removed sucessfully.'\n                        });\n                        self.parent().parent().slideUp();\n                    }).fail(function (jqXHR) {\n                        console.error(jqXHR);\n                        swal({\n                            type: 'error',\n                            title: 'Whoops!',\n                            text: 'An error occurred while attempting to remove this modpack.'\n                        });\n                    });\n                });\n            });\n        });\n    </script>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/settings/nav.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@php\n    $router = app('router');\n@endphp\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <div class=\"nav-tabs-custom nav-tabs-floating\">\n            <ul class=\"nav nav-tabs\">\n                <li class=\"{{ $router->currentRouteNamed('admin.bagoucenter.settings') ? 'active' : '' }}\">\n                    <a href=\"{{ route('admin.bagoucenter.settings') }}\">Overview</a>\n                </li>\n                @foreach ($addonslist as $addonn)\n                            @foreach($licenses as $license) \n                                @if($license->addon == $addonn['id'] && $addonn['tab'])\n                                    @php\n                                        $found = true;\n                                    @endphp\n                                    <li class=\"{{ $addon == $addonn['id'] ? 'active' : '' }}\">\n                                        <a href=\"{{ route($addonn['tabroute'], $addonn['id']) }}\">{{$addonn['name']}} @if($addonn['new']) <span class=\"label label-success\"> NEW </span> @endif</a>\n                                    </li>\n                                @endif\n                            @endforeach\n                @endforeach\n            </ul>\n        </div>\n    </div>\n</div>"
    }
  ],
  "./resources/views/admin/bagoucenter/support/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n@include('partials/admin.settings.nav', ['activeTab' => 'basic'])\n\n@section('title')\n    Whee Service\n@endsection\n\n@section('content-header')\n<h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n@section('content')\n@include('admin.bagoucenter.nav', ['addon' => null])\n\n    <div class=\"row\" style=\"margin-top: 15px;\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">Whee Service Support</h3>\n                </div>\n                <p class=\"box-body\">\n                    You can contact me trough many way!</span>.\n                    <br>\n                    <span style=\"font-size: 20px;\">Discord: <a href=\"http://discord.bagou450.com\">here</a> (24 hour response time) </span>\n                    <br>\n                    <span style=\"font-size: 20px;\">Sms (No call): +33 7 56 89 00 36 (24 hours response time) </span>\n                    <br>\n                    <span style=\"font-size: 20px;\">Email: contact@bagou450.com (48 hours response time) </span>\n\n                </p>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./resources/views/admin/bagoucenter/versions/index.blade.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "@extends('layouts.admin')\n\n@section('title')\n    Version Checker\n@endsection\n\n@section('content-header')\n    <h1>Whee Service Hub<small>Manage all Whee Service addons.</small></h1>\n    <ol class=\"breadcrumb\">\n        <li><a href=\"{{ route('admin.index') }}\">Admin</a></li>\n        <li class=\"active\">Whee Service Hub</li>\n    </ol>\n@endsection\n\n@section('content')\n@include('admin.bagoucenter.nav')\n\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <div class=\"box\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\"><i class=\"fa fa-code-branch\"></i> Version Checker</h3>\n                    <div class=\"box-tools pull-right\">\n                        <form method=\"POST\" style=\"display: inline;\">\n                            @csrf\n                            <button type=\"submit\" class=\"btn btn-sm btn-primary\"><i class=\"fa fa-refresh\"></i> Refresh</button>\n                        </form>\n                    </div>\n                </div>\n                <div class=\"box-body table-responsive\">\n                    <table class=\"table table-hover\">\n                        <thead>\n                            <tr>\n                                <th style=\"width: 30%;\">Addon Name</th>\n                                <th style=\"width: 15%;\">Installed</th>\n                                <th style=\"width: 15%;\">Latest</th>\n                                <th style=\"width: 25%;\">Status</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            @forelse ($addonslist as $addon)\n                                @php\n                                    $license = collect($licenses)->first(fn($l) => $l->addon == $addon['id']);\n                                @endphp\n                                @if ($license)\n                                    <tr>\n                                        <td>\n                                            <strong>{{ $addon['name'] }}</strong>\n                                        </td>\n                                        <td>\n                                            <code>{{ $license->version }}</code>\n                                        </td>\n                                        <td>\n                                            <code>{{ $addon['version'] }}</code>\n                                        </td>\n                                        <td>\n                                            @if ($addon['version'] == $license->version)\n                                                <span class=\"label label-success\"><i class=\"fa fa-check\"></i> Up to date</span>\n                                            @else\n                                                <span class=\"label label-warning\"><i class=\"fa fa-exclamation-triangle\"></i> Update available</span>\n                                            @endif\n                                        </td>\n                                    </tr>\n                                @endif\n                            @empty\n                                <tr>\n                                    <td colspan=\"4\" class=\"text-center text-muted\">\n                                        <i class=\"fa fa-inbox\"></i> No addons installed\n                                    </td>\n                                </tr>\n                            @endforelse\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n@endsection\n"
    }
  ],
  "./database/migrations/2022_07_04_151819_create_bagoulicense_table.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\Schema;\n\nclass CreateBagoulicenseTable extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('bagoulicense', function (Blueprint $table) {\n            $table->id();\n            $table->string('addon');\n            $table->string('license');\n            $table->integer('usage');\n            $table->integer('maxusage');\n            $table->boolean('enabled');\n            $table->timestamps();\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::dropIfExists('bagoulicense');\n    }\n}\n"
    }
  ],
  "./app/Http/Requests/Api/Client/Servers/Files/ListResourcesRequest.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Http\\Requests\\Api\\Client\\Servers\\Files;\n\nuse Pterodactyl\\Models\\Permission;\nuse Pterodactyl\\Contracts\\Http\\ClientPermissionsRequest;\nuse Pterodactyl\\Http\\Requests\\Api\\Client\\ClientApiRequest;\n\nclass ListResourcesRequest extends ClientApiRequest implements ClientPermissionsRequest\n{\n    public function permission(): string\n    {\n        return Permission::ACTION_FILE_CREATE;\n    }\n\n\n}\n"
    }
  ],
  "./app/Transformers/Api/Client/FivemResourcesTransformer.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nnamespace Pterodactyl\\Transformers\\Api\\Client;\n\nuse Carbon\\Carbon;\nuse Illuminate\\Support\\Arr;\nuse Illuminate\\Support\\Str;\n\nclass FivemResourcesTransformer extends BaseClientTransformer\n{\n    /**\n     * An array of files we allow editing in the Panel.\n     *\n     * @var array\n     */\n    private $editable = [];\n\n    /**\n     * Transform a file object response from the daemon into a standardized response.\n     *\n     * @return array\n     */\n    public function transform(array $item)\n    {\n        return [\n            'Name' => Arr::get($item, 'Name'),\n            'Path' => Arr::get($item, 'Path'),\n            'Size' => Arr::get($item, 'Size'),\n            'LastUpdateDay' => Arr::get($item, 'LastUpdateDay'),\n            'LastUpdateMonth' => Arr::get($item, 'LastUpdateMonth'),\n            'LastUpdateMinute' => Arr::get($item, 'LastUpdateMinute'),\n            'LastUpdateSecond' => Arr::get($item, 'LastUpdateSecond'),\n            'LastUpdateYears' => Arr::get($item, 'LastUpdateYears'),\n\n        ];\n    }\n    public function getResourceName(): string\n    {\n        return 'resources_object';\n    }\n}\n\n"
    }
  ],
  "./resources/scripts/components/server/fivemresources/FiveMResourcesRow.tsx": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "/* eslint-disable no-var */\n/* eslint-disable @typescript-eslint/ban-types */\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlayCircle, faRedoAlt, faStopCircle } from '@fortawesome/free-solid-svg-icons';\nimport tw from 'twin.macro';\nimport GreyRowBox from '@/components/elements/GreyRowBox';\nimport SpinnerOverlay from '@/components/elements/SpinnerOverlay';\nimport { ServerContext } from '@/state/server';\nimport { useStoreActions, Actions } from 'easy-peasy';\nimport { ApplicationStore } from '@/state';\n\ninterface Props {\n    FiveMResourcesList: any;\n    className?: string;\n}\n\nexport default ({ FiveMResourcesList, className }: Props) => {\n    const { instance } = ServerContext.useStoreState(state => state.socket);\n    const name = FiveMResourcesList.Name.charAt(0).toUpperCase() + FiveMResourcesList.Name.slice(1);\n    const { addFlash, clearFlashes } = useStoreActions((actions: Actions<ApplicationStore>) => actions.flashes);\n    const [ loading, setLoading ] = useState(false);\n    function clear () {\n        clearFlashes();\n    }\n    const Start = () => {\n        setLoading(true);\n        instance && instance.send('send command', 'start ' + FiveMResourcesList.Name);\n        addFlash({\n            key: 'FiveMResources',\n            type: 'success',\n            message: 'Command : \"start ' + name + '\" send sucessfully',\n        });\n\n        setTimeout(clear, 3000);\n        setLoading(false);\n    };\n    const Stop = () => {\n        setLoading(true);\n        instance && instance.send('send command', 'stop ' + FiveMResourcesList.Name);\n        addFlash({\n            key: 'FiveMResources',\n            type: 'success',\n            message: 'Command : \"stop ' + name + '\" send sucessfully',\n        });\n        setTimeout(clear, 3000);\n        setLoading(false);\n    };\n    const Restart = () => {\n        setLoading(true);\n        instance && instance.send('send command', 'stop ' + FiveMResourcesList.Name);\n        instance && instance.send('send command', 'start ' + FiveMResourcesList.Name);\n\n        addFlash({\n            key: 'FiveMResources',\n            type: 'success',\n            message: 'Command : \"restart ' + name + '\" send sucessfully',\n        });\n        setTimeout(clear, 3000);\n        setLoading(false);\n    };\n    return (\n        <GreyRowBox css={tw`flex-wrap md:flex-nowrap items-center`} className={className}>\n            <SpinnerOverlay visible={loading || false} fixed/>\n            <div css={tw`flex items-center truncate w-full md:flex-1`}>\n                <div css={tw`flex flex-col truncate`}>\n                    <div css={tw`flex items-center text-sm mb-1`}>\n                        <p css={tw`ml-4 break-words truncate`} title={name}>\n                            {name}\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div css={tw`ml-6`} style={{ marginRight: '-0.5rem' }}>\n                <button\n                    type={'button'}\n                    aria-label={'Install'}\n                    css={tw`block text-sm p-1 md:p-2 text-neutral-500 hover:text-neutral-100 transition-colors duration-150 mx-4 bg-green-800 text-white`}\n                    onClick={Start}\n                    title=\"Start the resource\"\n                >\n                    <FontAwesomeIcon icon={faPlayCircle} /> START\n                </button>\n            </div>\n            <div css={tw`ml-6`} style={{ marginRight: '-0.5rem' }}>\n\n                <button\n                    type={'button'}\n                    aria-label={'Install'}\n                    css={tw`block text-sm p-1 md:p-2 text-neutral-500 hover:text-neutral-100 transition-colors duration-150 mx-4 bg-red-800 text-white`}\n                    onClick={Stop}\n                    title=\"Stop the resource\"\n                >\n                    <FontAwesomeIcon icon={faStopCircle} /> STOP\n                </button>\n            </div>\n\n            <div css={tw`ml-6`} style={{ marginRight: '-0.5rem' }}>\n\n                <button\n                    type={'button'}\n                    aria-label={'Install'}\n                    css={tw`block text-sm p-1 md:p-2 text-neutral-500 hover:text-neutral-100 transition-colors duration-150 mx-4 text-white`}\n                    style={{ backgroundColor: '#fea93b' }}\n                    onClick={Restart}\n                    title=\"Restart the resource\"\n                >\n                    <FontAwesomeIcon icon={faRedoAlt} /> RESTART\n                </button>\n            </div>\n        </GreyRowBox>\n    );\n};\n\n"
    }
  ],
  "./resources/scripts/components/server/fivemresources/FiveMResourcesContainer.tsx": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "\nimport React, { useContext, useEffect, useState } from 'react';\nimport useFlash from '@/plugins/useFlash';\nimport FlashMessageRender from '@/components/FlashMessageRender';\nimport tw from 'twin.macro';\nimport ServerContentBlock from '@/components/elements/ServerContentBlock';\nimport loadFiveMRessources, { Context as ServerFiveMResourcesContext } from '@/api/server/fivemresources/loadFiveMRessources';\nimport { ServerContext } from '@/state/server';\nimport FiveMResourcesRow from './FiveMResourcesRow';\nimport Pagination from '@/components/elements/PaginationFivemResources';\n\nexport interface ResourcesResponse {\n    Name: any[];\n    Path: any[];\n}\n\nconst FiveMResourcesContainer = () => {\n    const { page, setPage } = useContext(ServerFiveMResourcesContext);\n    const { clearFlashes, clearAndAddHttpError } = useFlash();\n    const uuid = ServerContext.useStoreState(state => state.server.data!.uuid);\n    const { data: FiveMResourcesList, error, isValidating } = loadFiveMRessources(uuid);\n    const status = ServerContext.useStoreState(state => state.status.value);\n\n    useEffect(() => {\n        if (!error) {\n            clearFlashes('FiveMResources');\n\n            return;\n        }\n\n        clearAndAddHttpError({ error, key: 'FiveMResources' });\n    }, [ error ]);\n\n    if (!FiveMResourcesList || (error && isValidating)) {\n        return <p css={tw`text-center text-sm text-neutral-300 mb-4 text-white`}>Error contact a administrator.</p>;\n    }\n    return (\n        <ServerContentBlock title={'FiveM Resources'} css={tw`bg-transparent`}>\n            {status === 'offline' &&\n                <p css={tw`text-center text-sm text-neutral-300`}>\n                    Serveur Ã©teinds\n                </p>\n            }\n            <FlashMessageRender byKey={'FiveMResources'} css={tw`mb-4`}/>\n\n            {status !== 'offline' &&\n            <Pagination data={FiveMResourcesList} onPageSelect={setPage}>\n                {({ items }) => (\n                    !items.length ?\n                        <p css={tw`text-center text-sm text-neutral-300`}>\n                            {page > 1 ?\n                                'On dirais qu\\'il n\\'y a pas plus de resources essayer de revenir en arriere.'\n                                :\n                                'Aucune resources trouver.'\n                            }\n                        </p>\n                        :\n                        items.map((FiveMResourcesList, index) => <FiveMResourcesRow\n                            key={FiveMResourcesList.attributes.Name}\n                            FiveMResourcesList={FiveMResourcesList.attributes}\n                            css={index > 0 ? tw`mt-2` : undefined}\n                        />)\n                )}\n            </Pagination>\n            }\n        </ServerContentBlock>\n    );\n};\n\nexport default () => {\n    const [ page, setPage ] = useState<number>(1);\n    const [ searchFilter, setSearchFilter ] = useState<string>('');\n\n\n    return (\n        <ServerFiveMResourcesContext.Provider value={{ page, setPage, searchFilter, setSearchFilter }}>\n            <FiveMResourcesContainer/>\n        </ServerFiveMResourcesContext.Provider>\n    );\n};\n"
    }
  ],
  "./resources/scripts/components/elements/PaginationFivemResources.tsx": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import React from 'react';\nimport { PaginatedResult } from '@/api/http';\nimport tw from 'twin.macro';\nimport styled from 'styled-components/macro';\nimport Button from '@/components/elements/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleDoubleLeft, faAngleDoubleRight } from '@fortawesome/free-solid-svg-icons';\n\ninterface RenderFuncProps<T> {\n    items: T[];\n    isLastPage: boolean;\n    isFirstPage: boolean;\n}\n\ninterface Props<T> {\n    data: PaginatedResult<T>;\n    showGoToLast?: boolean;\n    showGoToFirst?: boolean;\n    onPageSelect: (page: number) => void;\n    children: (props: RenderFuncProps<T>) => React.ReactNode;\n}\n\nconst Block = styled(Button)`\n    ${tw`p-0 w-10 h-10`}\n    \n    &:not(:last-of-type) {\n        ${tw`mr-2`};\n    }\n`;\n\nfunction PaginationFivemResources<T> ({ data: { items, pagination }, onPageSelect, children }: Props<T>) {\n    const isFirstPage = pagination.currentPage === 1;\n    const isLastPage = pagination.currentPage >= pagination.totalPages;\n\n    const pages = [];\n\n    // Start two spaces before the current page. If that puts us before the starting page default\n    // to the first page as the starting point.\n    const start = Math.max(pagination.currentPage - 2, 1);\n    const end = Math.min(pagination.totalPages, pagination.currentPage + 5);\n\n    for (let i = start; i <= end; i++) {\n        pages.push(i);\n    }\n\n    return (\n        <>\n            {children({ items, isFirstPage, isLastPage })}\n\n        </>\n    );\n}\n\nexport default PaginationFivemResources;\n"
    }
  ],
  "./resources/scripts/routers/ServerElements.tsx": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "import React from 'react';\nimport { ServerContext } from '@/state/server';\nimport routes from '@/routers/routes';\nimport Can from '@/components/elements/Can';\nimport { NavLink, Route, Switch, useRouteMatch } from 'react-router-dom';\nimport PermissionRoute from '@/components/elements/PermissionRoute';\nimport Spinner from '@/components/elements/Spinner';\nimport { NotFound } from '@/components/elements/ScreenBlock';\nimport TransitionRouter from '@/TransitionRouter';\nimport { useLocation } from 'react-router';\n\ninterface Props {\n    route: any;\n}\n\nconst NavItem = ({ route }: Props) => {\n    const match = useRouteMatch<{ id: string }>();\n\n    const nestId = ServerContext.useStoreState(state => state.server.data?.nestId);\n    const eggId = ServerContext.useStoreState(state => state.server.data?.eggId);\n\n    const to = (value: string, url = false) => {\n        return `${(url ? match.url : match.path).replace(/\\/*$/, '')}/${value.replace(/^\\/+/, '')}`;\n    };\n\n    return (\n        ((route.nestIds && route.nestIds.includes(nestId ?? 0))\n            || (route.eggIds && route.eggIds.includes(eggId ?? 0))\n            || (route.nestId && route.nestId === nestId)\n            || (route.eggId && route.eggId === eggId)\n            || (!route.eggIds && !route.nestIds && !route.nestId && !route.eggId)) &&\n        <NavLink to={to(route.path, true)} exact={route.exact}>\n            {route.name}\n        </NavLink>\n    );\n}\n\nexport const Navigation = () => {\n    return (\n        <>\n            {routes.server\n                .filter((route) => !!route.name)\n                .map((route) =>\n                    route.permission ? (\n                        <Can key={route.path} action={route.permission} matchAny>\n                            <NavItem route={route} />\n                        </Can>\n                    ) : (\n                        <React.Fragment key={route.path}>\n                            <NavItem route={route} />\n                        </React.Fragment>\n                    )\n                )}\n        </>\n    );\n}\n\nexport const ComponentLoader = () => {\n    const match = useRouteMatch<{ id: string }>();\n    const location = useLocation();\n\n    const serverNestId = ServerContext.useStoreState(state => state.server.data?.nestId);\n    const serverEggId = ServerContext.useStoreState(state => state.server.data?.eggId);\n\n    const to = (value: string, url = false) => {\n        return `${(url ? match.url : match.path).replace(/\\/*$/, '')}/${value.replace(/^\\/+/, '')}`;\n    };\n\n    return (\n        <>\n            <TransitionRouter>\n                <Switch location={location}>\n                    {routes.server.map(({ path, permission, component: Component, nestIds, eggIds, nestId, eggId }) => {\n                        return (\n                            ((nestIds && nestIds.includes(serverNestId ?? 0))\n                                || (eggIds && eggIds.includes(serverEggId ?? 0))\n                                || (nestId && serverNestId === nestId)\n                                || (eggId && serverEggId === eggId)\n                                || (!eggIds && !nestIds && !nestId && !eggId)) &&\n                            <PermissionRoute key={path} permission={permission} path={to(path)} exact>\n                                <Spinner.Suspense>\n                                    <Component />\n                                </Spinner.Suspense>\n                            </PermissionRoute>\n                        )\n                    })}\n                    <Route path={'*'} component={NotFound} />\n                </Switch>\n            </TransitionRouter>\n        </>\n    );\n}\n"
    }
  ],
  "./resources/scripts/api/server/fivemresources/loadFiveMRessources.ts": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "\nimport useSWR from 'swr';\nimport http, { PaginatedResult } from '@/api/http';\nimport { createContext, useContext } from 'react';\n\ninterface ctx {\n    page: number;\n    setPage: (value: number | ((s: number) => number)) => void;\n    searchFilter: string;\n    setSearchFilter: (value: string | ((s: string) => string)) => void;\n}\n\nexport const Context = createContext<ctx>({ page: 1, setPage: () => 1, searchFilter: '', setSearchFilter: () => '' });\n\nexport default (uuid: string) => {\n    const { page, searchFilter } = useContext(Context);\n\n    return useSWR<PaginatedResult<any>>([ 'server:FiveMResource', page, searchFilter ], async () => {\n        const { data } = await http.get(`/api/client/servers/${uuid}/listefivem`, { timeout: 60000 });\n        const pagetotal = Math.ceil(data.data.length / 10);\n        return ({\n            items: (data.data || []),\n            pagination: { total: 13170, count: data.data.length, perPage: 10, currentPage: page, totalPages: pagetotal },\n        });\n    });\n};\n"
    }
  ],
  "./database/migrations/2026_02_01_000000_addon_278_install.php": [
    {
      "type": "newfile",
      "theme": "any",
      "add": "<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass Addon278Install extends Migration\n{\n    public function up()\n    {\n        // Addon 278 installation\n        // All files have been copied\n    }\n\n    public function down()\n    {\n        // Addon 278 removal\n    }\n}\n"
    }
  ]
}